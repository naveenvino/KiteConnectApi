2025-07-17 15:38:44.951 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-17 15:38:45.393 +05:30 [DBG] The property 'RiskParameters.StrategyConfigId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-17 15:38:45.416 +05:30 [WRN] No store type was specified for the decimal property 'HedgePercentage' on entity type 'HedgeConfiguration'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'HedgeRatio' on entity type 'HedgeConfiguration'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'AllocatedMargin' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'EntryLimitPrice' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'ExitAndReenterProfitAmount' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'ExitAndReenterProfitPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'HedgePremiumPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'HedgeRatio' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'LockProfitAmount' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'LockProfitPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'MaxDailyLoss' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'MaxPositionSize' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'MoveStopLossToEntryPriceAmount' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'MoveStopLossToEntryPricePercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'OverallPositionStopLoss' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'StopLossPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.418 +05:30 [WRN] No store type was specified for the decimal property 'TakeProfitPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.419 +05:30 [WRN] No store type was specified for the decimal property 'TargetPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.419 +05:30 [WRN] No store type was specified for the decimal property 'TrailStopLossAmount' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.419 +05:30 [WRN] No store type was specified for the decimal property 'TrailStopLossPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.419 +05:30 [WRN] No store type was specified for the decimal property 'LockedProfitLevel' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.419 +05:30 [WRN] No store type was specified for the decimal property 'MaxLoss' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.419 +05:30 [WRN] No store type was specified for the decimal property 'MaxProfit' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.419 +05:30 [WRN] No store type was specified for the decimal property 'PnLPercentage' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.419 +05:30 [WRN] No store type was specified for the decimal property 'StopLossPrice' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'TargetPrice' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'TrailingStopLoss' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'LimitPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'TriggerPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'ActionAmount' on entity type 'RiskManagementRule'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'ActionPercentage' on entity type 'RiskManagementRule'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'TriggerAmount' on entity type 'RiskManagementRule'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'TriggerPercentage' on entity type 'RiskManagementRule'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'MaxExposure' on entity type 'RiskParameters'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'MaxLoss' on entity type 'RiskParameters'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'MaxProfit' on entity type 'RiskParameters'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ScreenerCriteria'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ScreenerCriteria'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'AllocatedCapital' on entity type 'StrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'AveragePrice' on entity type 'TradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'PnL' on entity type 'TradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'Realised' on entity type 'TradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.420 +05:30 [WRN] No store type was specified for the decimal property 'Unrealised' on entity type 'TradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:38:45.468 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:38:45.614 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:38:45.644 +05:30 [DBG] Created DbConnection. (28ms).
2025-07-17 15:38:45.646 +05:30 [DBG] Migrating using database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.650 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.817 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.820 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-17 15:38:45.824 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-17 15:38:45.824 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-07-17 15:38:45.828 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-17 15:38:45.845 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-17 15:38:45.846 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.851 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (2ms).
2025-07-17 15:38:45.851 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.851 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.852 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-17 15:38:45.853 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-17 15:38:45.853 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:38:45.853 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:38:45.853 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-17 15:38:45.869 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-17 15:38:45.904 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-17 15:38:45.907 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-17 15:38:45.908 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-17 15:38:45.908 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-17 15:38:45.908 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-17 15:38:45.909 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-17 15:38:45.911 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-17 15:38:45.912 +05:30 [DBG] Committing transaction.
2025-07-17 15:38:45.914 +05:30 [DBG] Committed transaction.
2025-07-17 15:38:45.915 +05:30 [DBG] Disposing transaction.
2025-07-17 15:38:45.916 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-17 15:38:45.917 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-17 15:38:45.918 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-17 15:38:45.918 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-17 15:38:45.918 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-17 15:38:45.918 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-17 15:38:45.918 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-17 15:38:45.919 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-17 15:38:45.919 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:38:45.919 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:38:45.919 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-17 15:38:45.919 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-17 15:38:45.920 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:38:45.920 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:38:45.920 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:38:45.920 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-17 15:38:45.922 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-17 15:38:45.923 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.924 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 1ms reading results.
2025-07-17 15:38:45.926 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-07-17 15:38:45.926 +05:30 [DBG] Committing transaction.
2025-07-17 15:38:45.926 +05:30 [DBG] Committed transaction.
2025-07-17 15:38:45.926 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-17 15:38:45.926 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:38:45.926 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:38:45.926 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-17 15:38:45.932 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-17 15:38:45.932 +05:30 [DBG] Disposing transaction.
2025-07-17 15:38:45.932 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.932 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:38:45.933 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:38:45.934 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:38:45.934 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:38:45.963 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-17 15:38:46.022 +05:30 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-07-17 15:38:46.043 +05:30 [DBG] Hosting starting
2025-07-17 15:38:46.074 +05:30 [DBG] Starting VirtualBucketsRingProvider on silo S127.0.0.1:11111:111751726/x31CE7F16.
2025-07-17 15:38:46.089 +05:30 [INF] Silo starting with GC settings: ServerGC=true GCLatencyMode=Interactive
2025-07-17 15:38:46.090 +05:30 [WRN] A verbose logging level (Debug) is configured. This will impact performance. The recommended log level is Information.
2025-07-17 15:38:46.090 +05:30 [INF] -------------- Initializing silo on host E1791-NAVEEN MachineName E1791-NAVEEN at 127.0.0.1:11111, gen 111751726 --------------
2025-07-17 15:38:46.090 +05:30 [INF] Starting silo Silo_3beea
2025-07-17 15:38:46.239 +05:30 [DBG] Created ActivationTaskScheduler-1:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.catalog/127.0.0.1:11111@111751726@035e1f7900000000e330d0d100000000]
2025-07-17 15:38:46.252 +05:30 [DBG] Created ActivationTaskScheduler-2:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.dir.mem/127.0.0.1:11111@111751726@5b2008b900000000e330d0d100000000]
2025-07-17 15:38:46.253 +05:30 [DBG] Created ActivationTaskScheduler-3:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.dir.cache-validator/127.0.0.1:11111@111751726@95f59abd00000000e330d0d100000000]
2025-07-17 15:38:46.254 +05:30 [DBG] Processing silo add event for S127.0.0.1:11111:111751726
2025-07-17 15:38:46.254 +05:30 [DBG] S127.0.0.1:11111:111751726 is not my immediate successor.
2025-07-17 15:38:46.257 +05:30 [DBG] Silo S127.0.0.1:11111:111751726 added silo S127.0.0.1:11111:111751726
2025-07-17 15:38:46.279 +05:30 [DBG] Created ActivationTaskScheduler-4:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.load-publisher/127.0.0.1:11111@111751726@f4b42ed600000000e330d0d100000000]
2025-07-17 15:38:46.279 +05:30 [DBG] Created ActivationTaskScheduler-5:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.clustering/127.0.0.1:11111@111751726@77f9af2100000000e330d0d100000000]
2025-07-17 15:38:46.283 +05:30 [DBG] Created ActivationTaskScheduler-6:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.dir.client/127.0.0.1:11111@111751726@48daa28200000000e330d0d100000000]
2025-07-17 15:38:46.292 +05:30 [DBG] Created ActivationTaskScheduler-7:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.migrator/127.0.0.1:11111@111751726@e8f4d5ad00000000e330d0d100000000]
2025-07-17 15:38:46.294 +05:30 [INF] GrainBasedMembershipTable Activated.
2025-07-17 15:38:46.294 +05:30 [DBG] Created ActivationTaskScheduler-8:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.clustering.dev/127.0.0.1:11111@0@10377f2c000000009ce29bc900000000]
2025-07-17 15:38:46.297 +05:30 [DBG] Monitoring cluster membership updates
2025-07-17 15:38:46.301 +05:30 [INF] -------------- Started silo S127.0.0.1:11111:111751726, ConsistentHashCode 31CE7F16 --------------
2025-07-17 15:38:46.349 +05:30 [INF] Start installing Hangfire SQL objects...
2025-07-17 15:38:56.377 +05:30 [WRN] An exception occurred while trying to perform the migration. Retrying...
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 268
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 465
ClientConnectionId:d3a5b80c-284c-4360-85f4-1cfce022702b
Error Number:4060,State:1,Class:11
2025-07-17 15:38:56.391 +05:30 [WRN] An exception occurred while trying to perform the migration. Retrying...
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 268
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 465
ClientConnectionId:d3a5b80c-284c-4360-85f4-1cfce022702b
Error Number:4060,State:1,Class:11
2025-07-17 15:38:56.391 +05:30 [WRN] An exception occurred while trying to perform the migration.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 268
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 465
ClientConnectionId:d3a5b80c-284c-4360-85f4-1cfce022702b
Error Number:4060,State:1,Class:11
2025-07-17 15:38:56.391 +05:30 [WRN] Was unable to perform the Hangfire schema migration due to an exception. Ignore this message unless you've just installed or upgraded Hangfire.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 268
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 465
ClientConnectionId:d3a5b80c-284c-4360-85f4-1cfce022702b
Error Number:4060,State:1,Class:11
2025-07-17 15:38:56.393 +05:30 [ERR] Was unable to use the TryAutoDetectSchemaDependentOptions option due to an exception.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TResult](DbConnection dedicatedConnection, Func`3 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 279
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 495
ClientConnectionId:d3a5b80c-284c-4360-85f4-1cfce022702b
Error Number:4060,State:1,Class:11
2025-07-17 15:38:56.424 +05:30 [INF] ExpirySquareOffService started
2025-07-17 15:38:56.444 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:38:56.469 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:38:56.495 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:38:56.495 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:38:56.499 +05:30 [INF] Starting Orleans Silo.
2025-07-17 15:38:56.499 +05:30 [DBG] Created ActivationTaskScheduler-9:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.lifecycle/127.0.0.1:11111@111751726@f65d6c1900000000e330d0d100000000]
2025-07-17 15:38:56.502 +05:30 [DBG] Stage First (-2147483648): Orleans.Runtime.SiloOptionsLogger
2025-07-17 15:38:56.502 +05:30 [DBG] Stage 1999: ConnectionManager, SiloConnectionListener, GatewayConnectionListener
2025-07-17 15:38:56.502 +05:30 [DBG] Stage RuntimeInitialize (2000): Orleans.Runtime.InsideRuntimeClient, SiloStatusListenerManager, ClusterMembershipService, SiloConnectionMaintainer, Orleans.Runtime.Silo
2025-07-17 15:38:56.502 +05:30 [DBG] Stage 2001: MembershipAgent
2025-07-17 15:38:56.502 +05:30 [DBG] Stage RuntimeServices (4000): ActivationCollector, Orleans.Runtime.GrainDirectory.LocalGrainDirectory, ClusterManifestProvider, Orleans.Runtime.Silo
2025-07-17 15:38:56.502 +05:30 [DBG] Stage RuntimeGrainServices (8000): CachedGrainLocator, DeploymentLoadPublisher, MembershipTableManager, ClientDirectory, ClusterManifestProvider, HostedClient, ActivationMigrationManager, Orleans.Runtime.Silo
2025-07-17 15:38:56.502 +05:30 [DBG] Stage AfterRuntimeGrainServices (8100): MembershipAgent, SiloStatusListenerManager
2025-07-17 15:38:56.502 +05:30 [DBG] Stage ApplicationServices (10000): Orleans.Runtime.Versions.GrainVersionStore
2025-07-17 15:38:56.502 +05:30 [DBG] Stage BecomeActive (19999): ActivationWorkingSet, MembershipAgent, IncomingRequestMonitor, Orleans.Runtime.Silo
2025-07-17 15:38:56.502 +05:30 [DBG] Stage Active (20000): ClusterHealthMonitor, Orleans.Runtime.MembershipService.LocalSiloHealthMonitor, MembershipTableCleanupAgent, GatewayConnectionListener, Orleans.Runtime.Silo
2025-07-17 15:38:56.509 +05:30 [INF] Configuration Orleans.Configuration.ActivationCountBasedPlacementOptions: 
ChooseOutOf: 2

2025-07-17 15:38:56.509 +05:30 [INF] Configuration Orleans.Configuration.ClusterMembershipOptions: 
NumMissedTableIAmAliveLimit: 3
LivenessEnabled: True
ProbeTimeout: 00:00:05
TableRefreshTimeout: 00:01:00
DeathVoteExpirationTimeout: 00:02:00
IAmAliveTablePublishTimeout: 00:00:30
MaxJoinAttemptTime: 00:05:00
UseLivenessGossip: True
NumProbedSilos: 10
NumMissedProbesLimit: 3
NumVotesForDeathDeclaration: 2
DefunctSiloExpiration: 7.00:00:00
DefunctSiloCleanupPeriod: 01:00:00
LocalHealthDegradationMonitoringPeriod: 00:00:10
ExtendProbeTimeoutDuringDegradation: True
EnableIndirectProbes: True
EvictWhenMaxJoinAttemptTimeExceeded: True

2025-07-17 15:38:56.509 +05:30 [INF] Configuration Orleans.Configuration.ClusterOptions: 
ClusterId: default
ServiceId: default

2025-07-17 15:38:56.510 +05:30 [INF] Configuration Orleans.Configuration.ConnectionOptions: 
ProtocolVersion: Version1
ConnectionsPerEndpoint: 1
ConnectionRetryDelay: 00:00:01
OpenConnectionTimeout: 00:00:05

2025-07-17 15:38:56.510 +05:30 [INF] Configuration Orleans.Configuration.ConsistentRingOptions: 
NumVirtualBucketsConsistentRing: 30
UseVirtualBucketsConsistentRing: True

2025-07-17 15:38:56.510 +05:30 [INF] Configuration Orleans.Configuration.DevelopmentClusterMembershipOptions: 
PrimarySiloEndpoint: 127.0.0.1:11111

2025-07-17 15:38:56.510 +05:30 [INF] Configuration Orleans.Configuration.EndpointOptions: 
AdvertisedIPAddress: 127.0.0.1
SiloPort: 11111
GatewayPort: 30000
SiloListeningEndpoint: 
GatewayListeningEndpoint: 

2025-07-17 15:38:56.510 +05:30 [INF] Configuration Orleans.Configuration.GrainCollectionOptions: 
CollectionQuantum: 00:01:00
CollectionAge: 00:15:00
ActivationTimeout: 00:00:30
DeactivationTimeout: 00:00:30

2025-07-17 15:38:56.511 +05:30 [INF] Configuration Orleans.Configuration.GrainDirectoryOptions: 
CachingStrategy: Adaptive
CacheSize: 1000000
InitialCacheTTL: 00:00:30
MaximumCacheTTL: 00:04:00
CacheTTLExtensionFactor: 2
LazyDeregistrationDelay: 00:01:00

2025-07-17 15:38:56.511 +05:30 [INF] Configuration Orleans.Configuration.GrainVersioningOptions: 
DefaultCompatibilityStrategy: BackwardCompatible
DefaultVersionSelectorStrategy: AllCompatibleVersions

2025-07-17 15:38:56.511 +05:30 [INF] Configuration Orleans.Configuration.LoadSheddingOptions: 
LoadSheddingEnabled: False
CpuThreshold: 95
MemoryThreshold: 90

2025-07-17 15:38:56.512 +05:30 [INF] Configuration Orleans.Configuration.MemoryGrainStorageOptions-PubSubStore: 
NumStorageGrains: 10
InitStage: 10000
GrainStorageSerializer: Orleans.Storage.JsonGrainStorageSerializer

2025-07-17 15:38:56.512 +05:30 [INF] Configuration Orleans.Configuration.ResourceOptimizedPlacementOptions: 
CpuUsageWeight: 40
MemoryUsageWeight: 20
AvailableMemoryWeight: 20
MaxAvailableMemoryWeight: 5
ActivationCountWeight: 15
LocalSiloPreferenceMargin: 5

2025-07-17 15:38:56.512 +05:30 [INF] Configuration Orleans.Configuration.SchedulingOptions: 
DelayWarningThreshold: 00:00:10
ActivationSchedulingQuantum: 00:00:00.1000000
TurnWarningLengthThreshold: 00:00:01
MaxPendingWorkItemsSoftLimit: 0
StoppedActivationWarningInterval: 00:01:00

2025-07-17 15:38:56.512 +05:30 [INF] Configuration Orleans.Configuration.SiloMessagingOptions: 
SiloSenderQueues: 0
GatewaySenderQueues: 0
MaxForwardCount: 2
ClientDropTimeout: 00:01:00
ClientRegistrationRefresh: 00:05:00
ClientGatewayShutdownNotificationTimeout: 00:00:05
MaxEnqueuedRequestsSoftLimit: 0
MaxEnqueuedRequestsHardLimit: 0
MaxEnqueuedRequestsSoftLimit_StatelessWorker: 0
MaxEnqueuedRequestsHardLimit_StatelessWorker: 0
MaxRequestProcessingTime: 02:00:00
AssumeHomogenousSilosForTesting: False
ShutdownRerouteTimeout: 00:00:10
SystemResponseTimeout: 00:00:30
GrainWorkloadAnalysisPeriod: 00:00:05
RequestProcessingWarningTime: 00:00:05
RequestQueueDelayWarningTime: 00:00:10
WaitForMessageToBeQueuedForOutboundTime: 00:00:02
ResponseTimeout: 00:00:30
ResponseTimeoutWithDebugger: 00:30:00
DropExpiredMessages: True
MaxMessageHeaderSize: 10485760
MaxMessageBodySize: 104857600

2025-07-17 15:38:56.512 +05:30 [INF] Configuration Orleans.Configuration.SiloOptions: 
SiloName: Silo_3beea

2025-07-17 15:38:56.512 +05:30 [DBG] 'Orleans.Runtime.SiloOptionsLogger' started in stage 'First (-2147483648)' in '"00:00:00.0086974"'.
2025-07-17 15:38:56.513 +05:30 [DBG] Starting lifecycle stage 'First (-2147483648)' took '"00:00:00.0095119"'
2025-07-17 15:38:56.513 +05:30 [DBG] 'ConnectionManager' started in stage '1999' in '"00:00:00.0000141"'.
2025-07-17 15:38:56.515 +05:30 [DBG] 'GatewayConnectionListener' started in stage '1999' in '"00:00:00.0021499"'.
2025-07-17 15:38:56.516 +05:30 [DBG] 'SiloConnectionListener' started in stage '1999' in '"00:00:00.0028974"'.
2025-07-17 15:38:56.516 +05:30 [DBG] Starting lifecycle stage '1999' took '"00:00:00.0031861"'
2025-07-17 15:38:56.516 +05:30 [INF] Start InsideRuntimeClient took 0.0123 milliseconds
2025-07-17 15:38:56.517 +05:30 [DBG] 'Orleans.Runtime.InsideRuntimeClient' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0013340"'.
2025-07-17 15:38:56.517 +05:30 [DBG] 'SiloStatusListenerManager' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0000402"'.
2025-07-17 15:38:56.518 +05:30 [DBG] 'ClusterMembershipService' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0000540"'.
2025-07-17 15:38:56.518 +05:30 [DBG] 'SiloConnectionMaintainer' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0000623"'.
2025-07-17 15:38:56.518 +05:30 [INF] Silo Start()
2025-07-17 15:38:56.518 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0003833"'.
2025-07-17 15:38:56.518 +05:30 [DBG] Starting lifecycle stage 'RuntimeInitialize (2000)' took '"00:00:00.0020687"'
2025-07-17 15:38:56.518 +05:30 [DBG] 'MembershipAgent' started in stage '2001' in '"00:00:00.0000228"'.
2025-07-17 15:38:56.518 +05:30 [DBG] Starting lifecycle stage '2001' took '"00:00:00.0000461"'
2025-07-17 15:38:56.519 +05:30 [DBG] Starting to process membership updates
2025-07-17 15:38:56.519 +05:30 [DBG] 'ActivationCollector' started in stage 'RuntimeServices (4000)' in '"00:00:00.0007069"'.
2025-07-17 15:38:56.519 +05:30 [DBG] Start
2025-07-17 15:38:56.519 +05:30 [DBG] Created ActivationTaskScheduler-10:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.manifest/127.0.0.1:11111@111751726@f718d9af00000000e330d0d100000000]
2025-07-17 15:38:56.519 +05:30 [DBG] 'ClusterManifestProvider' started in stage 'RuntimeServices (4000)' in '"00:00:00.0003983"'.
2025-07-17 15:38:56.520 +05:30 [DBG] 'Orleans.Runtime.GrainDirectory.LocalGrainDirectory' started in stage 'RuntimeServices (4000)' in '"00:00:00.0005671"'.
2025-07-17 15:38:56.521 +05:30 [DBG] Created ActivationTaskScheduler-11:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.silo-control/127.0.0.1:11111@111751726@1b564fb600000000e330d0d100000000]
2025-07-17 15:38:56.521 +05:30 [DBG] Created ActivationTaskScheduler-12:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.fallback/127.0.0.1:11111@111751726@79c1494700000000e330d0d100000000]
2025-07-17 15:38:56.521 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'RuntimeServices (4000)' in '"00:00:00.0018199"'.
2025-07-17 15:38:56.521 +05:30 [DBG] Starting lifecycle stage 'RuntimeServices (4000)' took '"00:00:00.0031490"'
2025-07-17 15:38:56.523 +05:30 [DBG] 'CachedGrainLocator' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0012707"'.
2025-07-17 15:38:56.523 +05:30 [DBG] Starting DeploymentLoadPublisher
2025-07-17 15:38:56.526 +05:30 [DBG] 'ClientDirectory' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0000747"'.
2025-07-17 15:38:56.526 +05:30 [DBG] 'ClusterManifestProvider' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0001410"'.
2025-07-17 15:38:56.527 +05:30 [DBG] 'HostedClient' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0001575"'.
2025-07-17 15:38:56.527 +05:30 [INF] MembershipOracle starting on host E1791-NAVEEN with SiloAddress S127.0.0.1:11111:111751726 at 2025-07-17 10:08:46.058 GMT
2025-07-17 15:38:56.528 +05:30 [DBG] Starting to process membership updates
2025-07-17 15:38:56.528 +05:30 [INF] Creating in-memory membership table
2025-07-17 15:38:56.529 +05:30 [INF] Init grain services took 0 milliseconds to finish
2025-07-17 15:38:56.529 +05:30 [INF] GrainBasedMembershipTable Activated.
2025-07-17 15:38:56.530 +05:30 [DBG] Created ActivationTaskScheduler-13:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.clustering.dev/127.0.0.1:11111@0@10377f2c000000009ce29bc900000000]
2025-07-17 15:38:56.530 +05:30 [DBG] Starting silo watchdog
2025-07-17 15:38:56.530 +05:30 [DBG] Created ActivationTaskScheduler-14:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111751726/sys.svc.clustering.dev/127.0.0.1:11111@0@10377f2c000000009ce29bc900000000]
2025-07-17 15:38:56.531 +05:30 [DBG] Silo watchdog started successfully.
2025-07-17 15:38:56.531 +05:30 [DBG] Silo.Start complete: System status = Starting
2025-07-17 15:38:56.531 +05:30 [DBG] Started DeploymentLoadPublisher
2025-07-17 15:38:56.531 +05:30 [DBG] 'DeploymentLoadPublisher' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0082027"'.
2025-07-17 15:38:56.531 +05:30 [DBG] 'ActivationMigrationManager' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0045419"'.
2025-07-17 15:38:56.531 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0045441"'.
2025-07-17 15:38:56.549 +05:30 [INF] Connected to membership table provider.
2025-07-17 15:38:56.553 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 0 silos, 0 are Active, 0 are Dead, Version=<0, 0>. All silos: []
2025-07-17 15:38:56.556 +05:30 [DBG] 'MembershipTableManager' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0305915"'.
2025-07-17 15:38:56.556 +05:30 [DBG] Starting lifecycle stage 'RuntimeGrainServices (8000)' took '"00:00:00.0348980"'
2025-07-17 15:38:56.557 +05:30 [DBG] 'SiloStatusListenerManager' started in stage 'AfterRuntimeGrainServices (8100)' in '"00:00:00.0000370"'.
2025-07-17 15:38:56.557 +05:30 [DBG] Starting periodic membership table refreshes
2025-07-17 15:38:56.557 +05:30 [INF] Joining
2025-07-17 15:38:56.558 +05:30 [DBG] Starting to process membership updates.
2025-07-17 15:38:56.559 +05:30 [DBG] Going to try to TryUpdateMyStatusGlobalOnce #0
2025-07-17 15:38:56.560 +05:30 [DBG] TryUpdateMyStatusGlobalOnce: Read my entry from Membership table 0 silos, 0 are Active, 0 are Dead, Version=<0, 0>. All silos: []
2025-07-17 15:38:56.562 +05:30 [DBG] InsertRow entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Joining, table version = <1, 0>
2025-07-17 15:38:56.564 +05:30 [DBG] ProcessTableUpdate (called from TryUpdateMyStatusGlobalOnce) membership table 1 silos, 0 are Active, 0 are Dead, 1 are Joining, Version=<1, 0>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Joining]
2025-07-17 15:38:56.564 +05:30 [DBG] ProcessTableUpdate (called from TryUpdateMyStatusGlobalOnce) membership table: 1 silos, 0 are Active, 0 are Dead, 1 are Joining, Version=<1, 0>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Joining]
2025-07-17 15:38:56.565 +05:30 [DBG] Silo S127.0.0.1:11111:111751726 Successfully updated my Status in the membership table to "Joining"
2025-07-17 15:38:56.566 +05:30 [DBG] 'MembershipAgent' started in stage 'AfterRuntimeGrainServices (8100)' in '"00:00:00.0094834"'.
2025-07-17 15:38:56.566 +05:30 [DBG] Starting lifecycle stage 'AfterRuntimeGrainServices (8100)' took '"00:00:00.0095572"'
2025-07-17 15:38:56.566 +05:30 [DBG] 'Orleans.Runtime.Versions.GrainVersionStore' started in stage 'ApplicationServices (10000)' in '"00:00:00.0000446"'.
2025-07-17 15:38:56.566 +05:30 [DBG] Starting lifecycle stage 'ApplicationServices (10000)' took '"00:00:00.0000702"'
2025-07-17 15:38:56.566 +05:30 [DBG] 'ActivationWorkingSet' started in stage 'BecomeActive (19999)' in '"00:00:00.0000621"'.
2025-07-17 15:38:56.567 +05:30 [DBG] 'IncomingRequestMonitor' started in stage 'BecomeActive (19999)' in '"00:00:00.0000633"'.
2025-07-17 15:38:56.567 +05:30 [INF] -BecomeActive
2025-07-17 15:38:56.567 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'BecomeActive (19999)' in '"00:00:00.0003670"'.
2025-07-17 15:38:56.569 +05:30 [DBG] Going to try to TryUpdateMyStatusGlobalOnce #0
2025-07-17 15:38:56.570 +05:30 [DBG] TryUpdateMyStatusGlobalOnce: ReadAll Membership table 1 silos, 0 are Active, 0 are Dead, 1 are Joining, Version=<1, 2>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Joining]
2025-07-17 15:38:56.571 +05:30 [DBG] UpdateRow entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active, etag = 1, table version = <2, 2>
2025-07-17 15:38:56.571 +05:30 [DBG] ProcessTableUpdate (called from TryUpdateMyStatusGlobalOnce) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 2>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:38:56.571 +05:30 [DBG] ProcessTableUpdate (called from TryUpdateMyStatusGlobalOnce) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 2>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:38:56.571 +05:30 [DBG] Silo S127.0.0.1:11111:111751726 Successfully updated my Status in the membership table to "Active"
2025-07-17 15:38:56.571 +05:30 [INF] -Finished BecomeActive.
2025-07-17 15:38:56.572 +05:30 [DBG] 'MembershipAgent' started in stage 'BecomeActive (19999)' in '"00:00:00.0056196"'.
2025-07-17 15:38:56.572 +05:30 [DBG] Starting lifecycle stage 'BecomeActive (19999)' took '"00:00:00.0057938"'
2025-07-17 15:38:56.572 +05:30 [DBG] 'ClusterHealthMonitor' started in stage 'Active (20000)' in '"00:00:00.0000517"'.
2025-07-17 15:38:56.572 +05:30 [DBG] 'Orleans.Runtime.MembershipService.LocalSiloHealthMonitor' started in stage 'Active (20000)' in '"00:00:00.0000394"'.
2025-07-17 15:38:56.572 +05:30 [DBG] 'MembershipTableCleanupAgent' started in stage 'Active (20000)' in '"00:00:00.0000439"'.
2025-07-17 15:38:56.572 +05:30 [DBG] 'GatewayConnectionListener' started in stage 'Active (20000)' in '"00:00:00.0001392"'.
2025-07-17 15:38:56.573 +05:30 [DBG] Starting periodic membership liveness timestamp updates
2025-07-17 15:38:56.573 +05:30 [DBG] Starting to process membership updates
2025-07-17 15:38:56.573 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'Active (20000)' in '"00:00:00.0008196"'.
2025-07-17 15:38:56.573 +05:30 [DBG] Starting lifecycle stage 'Active (20000)' took '"00:00:00.0011624"'
2025-07-17 15:38:56.573 +05:30 [DBG] Starting membership table cleanup agent
2025-07-17 15:38:56.574 +05:30 [INF] Orleans Silo started.
2025-07-17 15:38:56.575 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:38:56.5757047+05:30"
2025-07-17 15:38:56.600 +05:30 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-17 15:38:56.600 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-17 15:38:56.661 +05:30 [INF] Now listening on: https://localhost:7000
2025-07-17 15:38:56.661 +05:30 [DBG] Loaded hosting startup assembly KiteConnectApi
2025-07-17 15:38:56.664 +05:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: (localdb)\mssqllocaldb@HangfireDB'
2025-07-17 15:38:56.665 +05:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-07-17 15:38:56.665 +05:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 15:38:56.669 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd has started in 2.0134 ms
2025-07-17 15:38:56.671 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 15:38:56.672 +05:30 [INF] Hosting environment: Development
2025-07-17 15:38:56.672 +05:30 [INF] Content root path: C:\Users\E1791\KiteApp\Kite
2025-07-17 15:38:56.672 +05:30 [DBG] Hosting started
2025-07-17 15:38:56.711 +05:30 [ERR] Execution BackgroundServerProcess is in the Failed state now due to an exception, execution will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:d3a5b80c-284c-4360-85f4-1cfce022702b
Error Number:4060,State:1,Class:11
2025-07-17 15:38:56.712 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:d3a5b80c-284c-4360-85f4-1cfce022702b
Error Number:4060,State:1,Class:11
2025-07-17 15:38:56.712 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:39:21.739 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:00:25.0275040 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:d177d4bb-a445-4414-9825-694783a2ba3a
Error Number:4060,State:1,Class:11
2025-07-17 15:39:21.741 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:d177d4bb-a445-4414-9825-694783a2ba3a
Error Number:4060,State:1,Class:11
2025-07-17 15:39:21.741 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:39:26.588 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:39:30.420 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:39:30.421 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:39:46.222 +05:30 [DBG] Before collection #1: memory: 16MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:39:46.223 +05:30 [DBG] After collection #1 memory: 16MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0040038"
2025-07-17 15:39:46.756 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:00:50.0444329 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:7bfcc349-00a7-43fc-8e38-22f4433f63fa
Error Number:4060,State:1,Class:11
2025-07-17 15:39:46.757 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:7bfcc349-00a7-43fc-8e38-22f4433f63fa
Error Number:4060,State:1,Class:11
2025-07-17 15:39:46.758 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:39:56.531 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:39:56.532 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:39:56.533 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:39:56.533 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:39:56.582 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:39:56.5828496+05:30"
2025-07-17 15:39:56.583 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:39:56.5828384+05:30"
2025-07-17 15:39:56.586 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:39:56.587 +05:30 [DBG] Compiling query expression: 
'DbSet<NiftyOptionStrategyConfig>()'
2025-07-17 15:39:56.610 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:39:56.675 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NiftyOptionStrategyConfig>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: NiftyOptionStrategyConfig.Id (string) Required PK AfterSave:Throw, 0], [Property: NiftyOptionStrategyConfig.AllocatedMargin (decimal) Required, 1], [Property: NiftyOptionStrategyConfig.AllowMultipleSignals (bool) Required, 2], [Property: NiftyOptionStrategyConfig.AllowedSignals (string), 3], [Property: NiftyOptionStrategyConfig.AutoSquareOffOnExpiry (bool) Required, 4], [Property: NiftyOptionStrategyConfig.CreatedBy (string), 5], [Property: NiftyOptionStrategyConfig.CreatedTime (DateTime) Required, 6], [Property: NiftyOptionStrategyConfig.EntryLimitPrice (decimal?), 7], [Property: NiftyOptionStrategyConfig.EntryOrderType (string), 8], [Property: NiftyOptionStrategyConfig.EntryTime (int) Required, 9], [Property: NiftyOptionStrategyConfig.Exchange (string), 10], [Property: NiftyOptionStrategyConfig.ExecutionMode (string), 11], [Property: NiftyOptionStrategyConfig.ExitAndReenterProfitAmount (decimal) Required, 12], [Property: NiftyOptionStrategyConfig.ExitAndReenterProfitPercentage (decimal) Required, 13], [Property: NiftyOptionStrategyConfig.ExitTime (int) Required, 14], [Property: NiftyOptionStrategyConfig.ExpirySquareOffTimeMinutes (int) Required, 15], [Property: NiftyOptionStrategyConfig.FromDate (DateTime) Required, 16], [Property: NiftyOptionStrategyConfig.HedgeDistancePoints (int) Required, 17], [Property: NiftyOptionStrategyConfig.HedgeEnabled (bool) Required, 18], [Property: NiftyOptionStrategyConfig.HedgePremiumPercentage (decimal) Required, 19], [Property: NiftyOptionStrategyConfig.HedgeRatio (decimal) Required, 20], [Property: NiftyOptionStrategyConfig.HedgeType (string) Required, 21], [Property: NiftyOptionStrategyConfig.InstrumentPrefix (string), 22], [Property: NiftyOptionStrategyConfig.IsDeleted (bool) Required, 23], [Property: NiftyOptionStrategyConfig.IsEnabled (bool) Required, 24], [Property: NiftyOptionStrategyConfig.LastExitReentryTime (DateTime?), 25], [Property: NiftyOptionStrategyConfig.LastUpdated (DateTime) Required, 26], [Property: NiftyOptionStrategyConfig.LastUpdatedBy (string), 27], [Property: NiftyOptionStrategyConfig.LockProfitAmount (decimal) Required, 28], [Property: NiftyOptionStrategyConfig.LockProfitPercentage (decimal) Required, 29], [Property: NiftyOptionStrategyConfig.ManualExecutionTimeoutMinutes (int) Required, 30], [Property: NiftyOptionStrategyConfig.MaxDailyLoss (decimal) Required, 31], [Property: NiftyOptionStrategyConfig.MaxPositionSize (decimal) Required, 32], [Property: NiftyOptionStrategyConfig.MaxTradesPerDay (int) Required, 33], [Property: NiftyOptionStrategyConfig.MinReentryDelayMinutes (int) Required, 34], [Property: NiftyOptionStrategyConfig.MoveStopLossToEntryPriceAmount (decimal) Required, 35], [Property: NiftyOptionStrategyConfig.MoveStopLossToEntryPricePercentage (decimal) Required, 36], [Property: NiftyOptionStrategyConfig.Notes (string), 37], [Property: NiftyOptionStrategyConfig.NotifyOnEntry (bool) Required, 38], [Property: NiftyOptionStrategyConfig.NotifyOnExit (bool) Required, 39], [Property: NiftyOptionStrategyConfig.NotifyOnProfit (bool) Required, 40], [Property: NiftyOptionStrategyConfig.NotifyOnStopLoss (bool) Required, 41], [Property: NiftyOptionStrategyConfig.OrderType (string), 42], [Property: NiftyOptionStrategyConfig.OverallPositionStopLoss (decimal) Required, 43], [Property: NiftyOptionStrategyConfig.ProductType (string), 44], [Property: NiftyOptionStrategyConfig.Quantity (int) Required, 45], [Property: NiftyOptionStrategyConfig.StopLossPercentage (decimal) Required, 46], [Property: NiftyOptionStrategyConfig.StrategyName (string), 47], [Property: NiftyOptionStrategyConfig.TakeProfitPercentage (decimal) Required, 48], [Property: NiftyOptionStrategyConfig.TargetPercentage (decimal) Required, 49], [Property: NiftyOptionStrategyConfig.ToDate (DateTime) Required, 50], [Property: NiftyOptionStrategyConfig.TrailStopLossAmount (decimal) Required, 51], [Property: NiftyOptionStrategyConfig.TrailStopLossPercentage (decimal) Required, 52], [Property: NiftyOptionStrategyConfig.UnderlyingInstrument (string), 53], [Property: NiftyOptionStrategyConfig.UseDynamicQuantity (bool) Required, 54], [Property: NiftyOptionStrategyConfig.UseNearestWeeklyExpiry (bool) Required, 55], [Property: NiftyOptionStrategyConfig.UseOrderProtection (bool) Required, 56] }
        SELECT n.Id, n.AllocatedMargin, n.AllowMultipleSignals, n.AllowedSignals, n.AutoSquareOffOnExpiry, n.CreatedBy, n.CreatedTime, n.EntryLimitPrice, n.EntryOrderType, n.EntryTime, n.Exchange, n.ExecutionMode, n.ExitAndReenterProfitAmount, n.ExitAndReenterProfitPercentage, n.ExitTime, n.ExpirySquareOffTimeMinutes, n.FromDate, n.HedgeDistancePoints, n.HedgeEnabled, n.HedgePremiumPercentage, n.HedgeRatio, n.HedgeType, n.InstrumentPrefix, n.IsDeleted, n.IsEnabled, n.LastExitReentryTime, n.LastUpdated, n.LastUpdatedBy, n.LockProfitAmount, n.LockProfitPercentage, n.ManualExecutionTimeoutMinutes, n.MaxDailyLoss, n.MaxPositionSize, n.MaxTradesPerDay, n.MinReentryDelayMinutes, n.MoveStopLossToEntryPriceAmount, n.MoveStopLossToEntryPricePercentage, n.Notes, n.NotifyOnEntry, n.NotifyOnExit, n.NotifyOnProfit, n.NotifyOnStopLoss, n.OrderType, n.OverallPositionStopLoss, n.ProductType, n.Quantity, n.StopLossPercentage, n.StrategyName, n.TakeProfitPercentage, n.TargetPercentage, n.ToDate, n.TrailStopLossAmount, n.TrailStopLossPercentage, n.UnderlyingInstrument, n.UseDynamicQuantity, n.UseNearestWeeklyExpiry, n.UseOrderProtection
        FROM NiftyOptionStrategyConfigs AS n) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: NiftyOptionStrategyConfig.Id (string) Required PK AfterSave:Throw, 0], [Property: NiftyOptionStrategyConfig.AllocatedMargin (decimal) Required, 1], [Property: NiftyOptionStrategyConfig.AllowMultipleSignals (bool) Required, 2], [Property: NiftyOptionStrategyConfig.AllowedSignals (string), 3], [Property: NiftyOptionStrategyConfig.AutoSquareOffOnExpiry (bool) Required, 4], [Property: NiftyOptionStrategyConfig.CreatedBy (string), 5], [Property: NiftyOptionStrategyConfig.CreatedTime (DateTime) Required, 6], [Property: NiftyOptionStrategyConfig.EntryLimitPrice (decimal?), 7], [Property: NiftyOptionStrategyConfig.EntryOrderType (string), 8], [Property: NiftyOptionStrategyConfig.EntryTime (int) Required, 9], [Property: NiftyOptionStrategyConfig.Exchange (string), 10], [Property: NiftyOptionStrategyConfig.ExecutionMode (string), 11], [Property: NiftyOptionStrategyConfig.ExitAndReenterProfitAmount (decimal) Required, 12], [Property: NiftyOptionStrategyConfig.ExitAndReenterProfitPercentage (decimal) Required, 13], [Property: NiftyOptionStrategyConfig.ExitTime (int) Required, 14], [Property: NiftyOptionStrategyConfig.ExpirySquareOffTimeMinutes (int) Required, 15], [Property: NiftyOptionStrategyConfig.FromDate (DateTime) Required, 16], [Property: NiftyOptionStrategyConfig.HedgeDistancePoints (int) Required, 17], [Property: NiftyOptionStrategyConfig.HedgeEnabled (bool) Required, 18], [Property: NiftyOptionStrategyConfig.HedgePremiumPercentage (decimal) Required, 19], [Property: NiftyOptionStrategyConfig.HedgeRatio (decimal) Required, 20], [Property: NiftyOptionStrategyConfig.HedgeType (string) Required, 21], [Property: NiftyOptionStrategyConfig.InstrumentPrefix (string), 22], [Property: NiftyOptionStrategyConfig.IsDeleted (bool) Required, 23], [Property: NiftyOptionStrategyConfig.IsEnabled (bool) Required, 24], [Property: NiftyOptionStrategyConfig.LastExitReentryTime (DateTime?), 25], [Property: NiftyOptionStrategyConfig.LastUpdated (DateTime) Required, 26], [Property: NiftyOptionStrategyConfig.LastUpdatedBy (string), 27], [Property: NiftyOptionStrategyConfig.LockProfitAmount (decimal) Required, 28], [Property: NiftyOptionStrategyConfig.LockProfitPercentage (decimal) Required, 29], [Property: NiftyOptionStrategyConfig.ManualExecutionTimeoutMinutes (int) Required, 30], [Property: NiftyOptionStrategyConfig.MaxDailyLoss (decimal) Required, 31], [Property: NiftyOptionStrategyConfig.MaxPositionSize (decimal) Required, 32], [Property: NiftyOptionStrategyConfig.MaxTradesPerDay (int) Required, 33], [Property: NiftyOptionStrategyConfig.MinReentryDelayMinutes (int) Required, 34], [Property: NiftyOptionStrategyConfig.MoveStopLossToEntryPriceAmount (decimal) Required, 35], [Property: NiftyOptionStrategyConfig.MoveStopLossToEntryPricePercentage (decimal) Required, 36], [Property: NiftyOptionStrategyConfig.Notes (string), 37], [Property: NiftyOptionStrategyConfig.NotifyOnEntry (bool) Required, 38], [Property: NiftyOptionStrategyConfig.NotifyOnExit (bool) Required, 39], [Property: NiftyOptionStrategyConfig.NotifyOnProfit (bool) Required, 40], [Property: NiftyOptionStrategyConfig.NotifyOnStopLoss (bool) Required, 41], [Property: NiftyOptionStrategyConfig.OrderType (string), 42], [Property: NiftyOptionStrategyConfig.OverallPositionStopLoss (decimal) Required, 43], [Property: NiftyOptionStrategyConfig.ProductType (string), 44], [Property: NiftyOptionStrategyConfig.Quantity (int) Required, 45], [Property: NiftyOptionStrategyConfig.StopLossPercentage (decimal) Required, 46], [Property: NiftyOptionStrategyConfig.StrategyName (string), 47], [Property: NiftyOptionStrategyConfig.TakeProfitPercentage (decimal) Required, 48], [Property: NiftyOptionStrategyConfig.TargetPercentage (decimal) Required, 49], [Property: NiftyOptionStrategyConfig.ToDate (DateTime) Required, 50], [Property: NiftyOptionStrategyConfig.TrailStopLossAmount (decimal) Required, 51], [Property: NiftyOptionStrategyConfig.TrailStopLossPercentage (decimal) Required, 52], [Property: NiftyOptionStrategyConfig.UnderlyingInstrument (string), 53], [Property: NiftyOptionStrategyConfig.UseDynamicQuantity (bool) Required, 54], [Property: NiftyOptionStrategyConfig.UseNearestWeeklyExpiry (bool) Required, 55], [Property: NiftyOptionStrategyConfig.UseOrderProtection (bool) Required, 56] }
        SELECT n.Id, n.AllocatedMargin, n.AllowMultipleSignals, n.AllowedSignals, n.AutoSquareOffOnExpiry, n.CreatedBy, n.CreatedTime, n.EntryLimitPrice, n.EntryOrderType, n.EntryTime, n.Exchange, n.ExecutionMode, n.ExitAndReenterProfitAmount, n.ExitAndReenterProfitPercentage, n.ExitTime, n.ExpirySquareOffTimeMinutes, n.FromDate, n.HedgeDistancePoints, n.HedgeEnabled, n.HedgePremiumPercentage, n.HedgeRatio, n.HedgeType, n.InstrumentPrefix, n.IsDeleted, n.IsEnabled, n.LastExitReentryTime, n.LastUpdated, n.LastUpdatedBy, n.LockProfitAmount, n.LockProfitPercentage, n.ManualExecutionTimeoutMinutes, n.MaxDailyLoss, n.MaxPositionSize, n.MaxTradesPerDay, n.MinReentryDelayMinutes, n.MoveStopLossToEntryPriceAmount, n.MoveStopLossToEntryPricePercentage, n.Notes, n.NotifyOnEntry, n.NotifyOnExit, n.NotifyOnProfit, n.NotifyOnStopLoss, n.OrderType, n.OverallPositionStopLoss, n.ProductType, n.Quantity, n.StopLossPercentage, n.StrategyName, n.TakeProfitPercentage, n.TargetPercentage, n.ToDate, n.TrailStopLossAmount, n.TrailStopLossPercentage, n.UnderlyingInstrument, n.UseDynamicQuantity, n.UseNearestWeeklyExpiry, n.UseOrderProtection
        FROM NiftyOptionStrategyConfigs AS n, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        NiftyOptionStrategyConfig entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            NiftyOptionStrategyConfig instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(NiftyOptionStrategyConfig);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: NiftyOptionStrategyConfig.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.NiftyOptionStrategyConfig").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (NiftyOptionStrategyConfig)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: NiftyOptionStrategyConfig | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.NiftyOptionStrategyConfig")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: NiftyOptionStrategyConfig | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.NiftyOptionStrategyConfig")]: 
                        {
                            return 
                            {
                                NiftyOptionStrategyConfig instance;
                                instance = new NiftyOptionStrategyConfig();
                                instance.<Id>k__BackingField = dataReader.GetString(0);
                                instance.<AllocatedMargin>k__BackingField = dataReader.GetDecimal(1);
                                instance.<AllowMultipleSignals>k__BackingField = dataReader.GetBoolean(2);
                                instance.<AllowedSignals>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<AutoSquareOffOnExpiry>k__BackingField = dataReader.GetBoolean(4);
                                instance.<CreatedBy>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<CreatedTime>k__BackingField = dataReader.GetDateTime(6);
                                instance.<EntryLimitPrice>k__BackingField = dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7);
                                instance.<EntryOrderType>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<EntryTime>k__BackingField = dataReader.GetInt32(9);
                                instance.<Exchange>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<ExecutionMode>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<ExitAndReenterProfitAmount>k__BackingField = dataReader.GetDecimal(12);
                                instance.<ExitAndReenterProfitPercentage>k__BackingField = dataReader.GetDecimal(13);
                                instance.<ExitTime>k__BackingField = dataReader.GetInt32(14);
                                instance.<ExpirySquareOffTimeMinutes>k__BackingField = dataReader.GetInt32(15);
                                instance.<FromDate>k__BackingField = dataReader.GetDateTime(16);
                                instance.<HedgeDistancePoints>k__BackingField = dataReader.GetInt32(17);
                                instance.<HedgeEnabled>k__BackingField = dataReader.GetBoolean(18);
                                instance.<HedgePremiumPercentage>k__BackingField = dataReader.GetDecimal(19);
                                instance.<HedgeRatio>k__BackingField = dataReader.GetDecimal(20);
                                instance.<HedgeType>k__BackingField = dataReader.GetString(21);
                                instance.<InstrumentPrefix>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(23);
                                instance.<IsEnabled>k__BackingField = dataReader.GetBoolean(24);
                                instance.<LastExitReentryTime>k__BackingField = dataReader.IsDBNull(25) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(25);
                                instance.<LastUpdated>k__BackingField = dataReader.GetDateTime(26);
                                instance.<LastUpdatedBy>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LockProfitAmount>k__BackingField = dataReader.GetDecimal(28);
                                instance.<LockProfitPercentage>k__BackingField = dataReader.GetDecimal(29);
                                instance.<ManualExecutionTimeoutMinutes>k__BackingField = dataReader.GetInt32(30);
                                instance.<MaxDailyLoss>k__BackingField = dataReader.GetDecimal(31);
                                instance.<MaxPositionSize>k__BackingField = dataReader.GetDecimal(32);
                                instance.<MaxTradesPerDay>k__BackingField = dataReader.GetInt32(33);
                                instance.<MinReentryDelayMinutes>k__BackingField = dataReader.GetInt32(34);
                                instance.<MoveStopLossToEntryPriceAmount>k__BackingField = dataReader.GetDecimal(35);
                                instance.<MoveStopLossToEntryPricePercentage>k__BackingField = dataReader.GetDecimal(36);
                                instance.<Notes>k__BackingField = dataReader.IsDBNull(37) ? default(string) : dataReader.GetString(37);
                                instance.<NotifyOnEntry>k__BackingField = dataReader.GetBoolean(38);
                                instance.<NotifyOnExit>k__BackingField = dataReader.GetBoolean(39);
                                instance.<NotifyOnProfit>k__BackingField = dataReader.GetBoolean(40);
                                instance.<NotifyOnStopLoss>k__BackingField = dataReader.GetBoolean(41);
                                instance.<OrderType>k__BackingField = dataReader.IsDBNull(42) ? default(string) : dataReader.GetString(42);
                                instance.<OverallPositionStopLoss>k__BackingField = dataReader.GetDecimal(43);
                                instance.<ProductType>k__BackingField = dataReader.IsDBNull(44) ? default(string) : dataReader.GetString(44);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(45);
                                instance.<StopLossPercentage>k__BackingField = dataReader.GetDecimal(46);
                                instance.<StrategyName>k__BackingField = dataReader.IsDBNull(47) ? default(string) : dataReader.GetString(47);
                                instance.<TakeProfitPercentage>k__BackingField = dataReader.GetDecimal(48);
                                instance.<TargetPercentage>k__BackingField = dataReader.GetDecimal(49);
                                instance.<ToDate>k__BackingField = dataReader.GetDateTime(50);
                                instance.<TrailStopLossAmount>k__BackingField = dataReader.GetDecimal(51);
                                instance.<TrailStopLossPercentage>k__BackingField = dataReader.GetDecimal(52);
                                instance.<UnderlyingInstrument>k__BackingField = dataReader.IsDBNull(53) ? default(string) : dataReader.GetString(53);
                                instance.<UseDynamicQuantity>k__BackingField = dataReader.GetBoolean(54);
                                instance.<UseNearestWeeklyExpiry>k__BackingField = dataReader.GetBoolean(55);
                                instance.<UseOrderProtection>k__BackingField = dataReader.GetBoolean(56);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: NiftyOptionStrategyConfig | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.NiftyOptionStrategyConfig")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(NiftyOptionStrategyConfig)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: KiteConnectApi.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-17 15:39:56.691 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:39:56.691 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:39:56.692 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:39:56.693 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:39:56.693 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:39:56.693 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:39:56.693 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:39:56.693 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:39:56.718 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:39:56.722 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:39:56.723 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 4ms reading results.
2025-07-17 15:39:56.723 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:39:56.724 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:39:56.724 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:39:56.724 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:39:56.724 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:40:01.769 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:01:05.0570648 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:7bfcc349-00a7-43fc-8e38-22f4433f63fa
Error Number:4060,State:1,Class:11
2025-07-17 15:40:01.770 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:7bfcc349-00a7-43fc-8e38-22f4433f63fa
Error Number:4060,State:1,Class:11
2025-07-17 15:40:01.770 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:40:26.625 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:40:26.788 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:01:30.0758862 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:734016f0-fdbf-4a50-a692-ee0c97815cb1
Error Number:4060,State:1,Class:11
2025-07-17 15:40:26.789 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:734016f0-fdbf-4a50-a692-ee0c97815cb1
Error Number:4060,State:1,Class:11
2025-07-17 15:40:26.789 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:40:30.415 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:40:30.415 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:40:41.803 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:01:45.0909823 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:734016f0-fdbf-4a50-a692-ee0c97815cb1
Error Number:4060,State:1,Class:11
2025-07-17 15:40:41.803 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:734016f0-fdbf-4a50-a692-ee0c97815cb1
Error Number:4060,State:1,Class:11
2025-07-17 15:40:41.804 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:40:46.220 +05:30 [DBG] Before collection #2: memory: 22MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:40:46.220 +05:30 [DBG] After collection #2 memory: 22MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0004335"
2025-07-17 15:40:56.537 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:40:56.538 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:40:56.538 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:40:56.538 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:40:56.584 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:40:56.5840044+05:30"
2025-07-17 15:40:56.631 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:40:56.725 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:40:56.7256698+05:30"
2025-07-17 15:40:56.727 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:40:56.727 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:40:56.727 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:40:56.727 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:40:56.727 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:40:56.727 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:40:56.727 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:40:56.727 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:40:56.728 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:40:56.734 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:40:56.734 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:40:56.734 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:40:56.734 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:40:56.734 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:40:56.735 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:40:56.735 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:40:56.735 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:40:56.819 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:02:00.1075229 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:734016f0-fdbf-4a50-a692-ee0c97815cb1
Error Number:4060,State:1,Class:11
2025-07-17 15:40:56.820 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:734016f0-fdbf-4a50-a692-ee0c97815cb1
Error Number:4060,State:1,Class:11
2025-07-17 15:40:56.820 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:41:11.184 +05:30 [DBG] Connection id "0HNE5390KP7L4" accepted.
2025-07-17 15:41:11.184 +05:30 [DBG] Connection id "0HNE5390KP7L4" started.
2025-07-17 15:41:11.218 +05:30 [DBG] Connection 0HNE5390KP7L4 established using the following protocol: "Tls13"
2025-07-17 15:41:11.237 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7000/api/HistoricalBacktesting/run - application/json 339
2025-07-17 15:41:11.246 +05:30 [DBG] POST requests are not supported
2025-07-17 15:41:11.261 +05:30 [DBG] 1 candidate(s) found for the request path '/api/HistoricalBacktesting/run'
2025-07-17 15:41:11.263 +05:30 [DBG] Endpoint 'KiteConnectApi.Controllers.HistoricalBacktestingController.RunBacktestAsync (KiteConnectApi)' with route pattern 'api/HistoricalBacktesting/run' is valid for the request path '/api/HistoricalBacktesting/run'
2025-07-17 15:41:11.270 +05:30 [DBG] Request matched endpoint 'KiteConnectApi.Controllers.HistoricalBacktestingController.RunBacktestAsync (KiteConnectApi)'
2025-07-17 15:41:11.271 +05:30 [INF] Executing endpoint 'KiteConnectApi.Controllers.HistoricalBacktestingController.RunBacktestAsync (KiteConnectApi)'
2025-07-17 15:41:11.279 +05:30 [INF] Route matched with {action = "RunBacktest", controller = "HistoricalBacktesting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KiteConnectApi.Services.BacktestResult]] RunBacktestAsync(KiteConnectApi.Services.BacktestParameters) on controller KiteConnectApi.Controllers.HistoricalBacktestingController (KiteConnectApi).
2025-07-17 15:41:11.279 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-17 15:41:11.280 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-17 15:41:11.280 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-07-17 15:41:11.280 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-17 15:41:11.280 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-07-17 15:41:11.280 +05:30 [DBG] Executing controller factory for controller KiteConnectApi.Controllers.HistoricalBacktestingController (KiteConnectApi)
2025-07-17 15:41:11.287 +05:30 [DBG] Executed controller factory for controller KiteConnectApi.Controllers.HistoricalBacktestingController (KiteConnectApi)
2025-07-17 15:41:11.288 +05:30 [DBG] Attempting to bind parameter 'parameters' of type 'KiteConnectApi.Services.BacktestParameters' ...
2025-07-17 15:41:11.289 +05:30 [DBG] Attempting to bind parameter 'parameters' of type 'KiteConnectApi.Services.BacktestParameters' using the name '' in request data ...
2025-07-17 15:41:11.289 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-17 15:41:11.310 +05:30 [DBG] Connection id "0HNE5390KP7L4", Request id "0HNE5390KP7L4:00000001": started reading request body.
2025-07-17 15:41:11.310 +05:30 [DBG] Connection id "0HNE5390KP7L4", Request id "0HNE5390KP7L4:00000001": done reading request body.
2025-07-17 15:41:11.313 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'KiteConnectApi.Services.BacktestParameters'
2025-07-17 15:41:11.314 +05:30 [DBG] Done attempting to bind parameter 'parameters' of type 'KiteConnectApi.Services.BacktestParameters'.
2025-07-17 15:41:11.314 +05:30 [DBG] Done attempting to bind parameter 'parameters' of type 'KiteConnectApi.Services.BacktestParameters'.
2025-07-17 15:41:11.314 +05:30 [DBG] Attempting to validate the bound parameter 'parameters' of type 'KiteConnectApi.Services.BacktestParameters' ...
2025-07-17 15:41:11.321 +05:30 [DBG] Done attempting to validate the bound parameter 'parameters' of type 'KiteConnectApi.Services.BacktestParameters'.
2025-07-17 15:41:11.323 +05:30 [INF] Executing action method KiteConnectApi.Controllers.HistoricalBacktestingController.RunBacktestAsync (KiteConnectApi) - Validation state: "Valid"
2025-07-17 15:41:11.324 +05:30 [INF] Starting historical backtest from "2024-06-24T00:00:00.0000000Z" to "2024-07-15T00:00:00.0000000Z"
2025-07-17 15:41:11.325 +05:30 [INF] Starting backtest from "2024-06-24T00:00:00.0000000Z" to "2024-07-15T00:00:00.0000000Z"
2025-07-17 15:41:11.326 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:41:11.327 +05:30 [DBG] Compiling query expression: 
'DbSet<ManualTradingViewAlert>()
    .Where(a => a.ReceivedTime >= __parameters_FromDate_0 && a.ReceivedTime <= __parameters_ToDate_1)
    .Where(a => __parameters_SignalTypes_2.Contains(a.Signal))
    .Where(a => __parameters_OptionTypes_3.Contains(a.Type))
    .OrderBy(a => a.ReceivedTime)'
2025-07-17 15:41:11.370 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ManualTradingViewAlert>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ManualTradingViewAlert.Id (string) Required PK AfterSave:Throw, 0], [Property: ManualTradingViewAlert.Action (string), 1], [Property: ManualTradingViewAlert.IsExecuted (bool) Required, 2], [Property: ManualTradingViewAlert.ReceivedTime (DateTime) Required, 3], [Property: ManualTradingViewAlert.Signal (string), 4], [Property: ManualTradingViewAlert.StrategyName (string), 5], [Property: ManualTradingViewAlert.Strike (int) Required, 6], [Property: ManualTradingViewAlert.Type (string), 7] }
        SELECT m.Id, m.Action, m.IsExecuted, m.ReceivedTime, m.Signal, m.StrategyName, m.Strike, m.Type
        FROM ManualTradingViewAlerts AS m
        WHERE (((m.ReceivedTime >= @__parameters_FromDate_0) && (m.ReceivedTime <= @__parameters_ToDate_1)) && m.Signal IN (
            SELECT p.value
            FROM OPENJSON(@__parameters_SignalTypes_2) WITH (value nvarchar(max) '') AS p)) && m.Type IN (
            SELECT p0.value
            FROM OPENJSON(@__parameters_OptionTypes_3) WITH (value nvarchar(max) '') AS p0)
        ORDER BY m.ReceivedTime ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ManualTradingViewAlert.Id (string) Required PK AfterSave:Throw, 0], [Property: ManualTradingViewAlert.Action (string), 1], [Property: ManualTradingViewAlert.IsExecuted (bool) Required, 2], [Property: ManualTradingViewAlert.ReceivedTime (DateTime) Required, 3], [Property: ManualTradingViewAlert.Signal (string), 4], [Property: ManualTradingViewAlert.StrategyName (string), 5], [Property: ManualTradingViewAlert.Strike (int) Required, 6], [Property: ManualTradingViewAlert.Type (string), 7] }
        SELECT m.Id, m.Action, m.IsExecuted, m.ReceivedTime, m.Signal, m.StrategyName, m.Strike, m.Type
        FROM ManualTradingViewAlerts AS m
        WHERE (((m.ReceivedTime >= @__parameters_FromDate_0) && (m.ReceivedTime <= @__parameters_ToDate_1)) && m.Signal IN (
            SELECT p.value
            FROM OPENJSON(@__parameters_SignalTypes_2) WITH (value nvarchar(max) '') AS p)) && m.Type IN (
            SELECT p0.value
            FROM OPENJSON(@__parameters_OptionTypes_3) WITH (value nvarchar(max) '') AS p0)
        ORDER BY m.ReceivedTime ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ManualTradingViewAlert entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ManualTradingViewAlert instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ManualTradingViewAlert);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ManualTradingViewAlert.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.ManualTradingViewAlert").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ManualTradingViewAlert)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ManualTradingViewAlert | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.ManualTradingViewAlert")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ManualTradingViewAlert | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.ManualTradingViewAlert")]: 
                        {
                            return 
                            {
                                ManualTradingViewAlert instance;
                                instance = new ManualTradingViewAlert();
                                instance.<Id>k__BackingField = dataReader.GetString(0);
                                instance.<Action>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<IsExecuted>k__BackingField = dataReader.GetBoolean(2);
                                instance.<ReceivedTime>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Signal>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<StrategyName>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<Strike>k__BackingField = dataReader.GetInt32(6);
                                instance.<Type>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ManualTradingViewAlert | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.ManualTradingViewAlert")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ManualTradingViewAlert)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: KiteConnectApi.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-17 15:41:11.379 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:41:11.379 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:41:11.379 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:11.379 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:11.379 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:11.379 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:11.385 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-17 15:41:11.387 +05:30 [DBG] Executing DbCommand [Parameters=[@__parameters_FromDate_0='?' (DbType = DateTime2), @__parameters_ToDate_1='?' (DbType = DateTime2), @__parameters_SignalTypes_2='?' (Size = 4000), @__parameters_OptionTypes_3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Action], [m].[IsExecuted], [m].[ReceivedTime], [m].[Signal], [m].[StrategyName], [m].[Strike], [m].[Type]
FROM [ManualTradingViewAlerts] AS [m]
WHERE [m].[ReceivedTime] >= @__parameters_FromDate_0 AND [m].[ReceivedTime] <= @__parameters_ToDate_1 AND [m].[Signal] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__parameters_SignalTypes_2) WITH ([value] nvarchar(max) '$') AS [p]
) AND [m].[Type] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__parameters_OptionTypes_3) WITH ([value] nvarchar(max) '$') AS [p0]
)
ORDER BY [m].[ReceivedTime]
2025-07-17 15:41:11.406 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__parameters_FromDate_0='?' (DbType = DateTime2), @__parameters_ToDate_1='?' (DbType = DateTime2), @__parameters_SignalTypes_2='?' (Size = 4000), @__parameters_OptionTypes_3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Action], [m].[IsExecuted], [m].[ReceivedTime], [m].[Signal], [m].[StrategyName], [m].[Strike], [m].[Type]
FROM [ManualTradingViewAlerts] AS [m]
WHERE [m].[ReceivedTime] >= @__parameters_FromDate_0 AND [m].[ReceivedTime] <= @__parameters_ToDate_1 AND [m].[Signal] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__parameters_SignalTypes_2) WITH ([value] nvarchar(max) '$') AS [p]
) AND [m].[Type] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__parameters_OptionTypes_3) WITH ([value] nvarchar(max) '$') AS [p0]
)
ORDER BY [m].[ReceivedTime]
2025-07-17 15:41:11.406 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:11.406 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:11.406 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:11.406 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:11.407 +05:30 [INF] Found 0 historical signals for backtesting
2025-07-17 15:41:11.410 +05:30 [INF] Backtest completed. Total trades: 0, Win rate: 0.00 %, Total return: 0.00 %
2025-07-17 15:41:11.410 +05:30 [INF] Backtest completed. Total trades: 0, Win rate: 0.00 %
2025-07-17 15:41:11.413 +05:30 [INF] Executed action method KiteConnectApi.Controllers.HistoricalBacktestingController.RunBacktestAsync (KiteConnectApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 87.5007ms.
2025-07-17 15:41:11.416 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-17 15:41:11.417 +05:30 [DBG] No information found on request to perform content negotiation.
2025-07-17 15:41:11.417 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-17 15:41:11.417 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-17 15:41:11.418 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-17 15:41:11.418 +05:30 [INF] Executing OkObjectResult, writing value of type 'KiteConnectApi.Services.BacktestResult'.
2025-07-17 15:41:11.440 +05:30 [INF] Executed action KiteConnectApi.Controllers.HistoricalBacktestingController.RunBacktestAsync (KiteConnectApi) in 158.6029ms
2025-07-17 15:41:11.440 +05:30 [INF] Executed endpoint 'KiteConnectApi.Controllers.HistoricalBacktestingController.RunBacktestAsync (KiteConnectApi)'
2025-07-17 15:41:11.441 +05:30 [DBG] Connection id "0HNE5390KP7L4" completed keep alive response.
2025-07-17 15:41:11.442 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:41:11.442 +05:30 [DBG] Connection id "0HNE5390KP7L4" received FIN.
2025-07-17 15:41:11.442 +05:30 [DBG] Connection id "0HNE5390KP7L4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:41:11.442 +05:30 [DBG] Connection id "0HNE5390KP7L4" disconnecting.
2025-07-17 15:41:11.443 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:11.443 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:41:11.444 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7000/api/HistoricalBacktesting/run - 200 null application/json; charset=utf-8 206.8647ms
2025-07-17 15:41:11.447 +05:30 [DBG] Connection id "0HNE5390KP7L4" stopped.
2025-07-17 15:41:19.069 +05:30 [DBG] Connection id "0HNE5390KP7L5" accepted.
2025-07-17 15:41:19.069 +05:30 [DBG] Connection id "0HNE5390KP7L5" started.
2025-07-17 15:41:19.081 +05:30 [DBG] Connection 0HNE5390KP7L5 established using the following protocol: "Tls13"
2025-07-17 15:41:19.082 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7000/api/HistoricalBacktesting/quick-analysis - null null
2025-07-17 15:41:19.083 +05:30 [DBG] The request path /api/HistoricalBacktesting/quick-analysis does not match a supported file type
2025-07-17 15:41:19.085 +05:30 [DBG] 1 candidate(s) found for the request path '/api/HistoricalBacktesting/quick-analysis'
2025-07-17 15:41:19.085 +05:30 [DBG] Endpoint 'KiteConnectApi.Controllers.HistoricalBacktestingController.GetQuickAnalysisAsync (KiteConnectApi)' with route pattern 'api/HistoricalBacktesting/quick-analysis' is valid for the request path '/api/HistoricalBacktesting/quick-analysis'
2025-07-17 15:41:19.085 +05:30 [DBG] Request matched endpoint 'KiteConnectApi.Controllers.HistoricalBacktestingController.GetQuickAnalysisAsync (KiteConnectApi)'
2025-07-17 15:41:19.085 +05:30 [INF] Executing endpoint 'KiteConnectApi.Controllers.HistoricalBacktestingController.GetQuickAnalysisAsync (KiteConnectApi)'
2025-07-17 15:41:19.087 +05:30 [INF] Route matched with {action = "GetQuickAnalysis", controller = "HistoricalBacktesting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KiteConnectApi.Services.BacktestResult]] GetQuickAnalysisAsync() on controller KiteConnectApi.Controllers.HistoricalBacktestingController (KiteConnectApi).
2025-07-17 15:41:19.087 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-17 15:41:19.087 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-17 15:41:19.087 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-07-17 15:41:19.088 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-17 15:41:19.088 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-07-17 15:41:19.088 +05:30 [DBG] Executing controller factory for controller KiteConnectApi.Controllers.HistoricalBacktestingController (KiteConnectApi)
2025-07-17 15:41:19.088 +05:30 [DBG] Executed controller factory for controller KiteConnectApi.Controllers.HistoricalBacktestingController (KiteConnectApi)
2025-07-17 15:41:19.088 +05:30 [INF] Executing action method KiteConnectApi.Controllers.HistoricalBacktestingController.GetQuickAnalysisAsync (KiteConnectApi) - Validation state: "Valid"
2025-07-17 15:41:19.089 +05:30 [INF] Starting backtest from "2025-07-10T10:11:19.0893594Z" to "2025-07-17T10:11:19.0893610Z"
2025-07-17 15:41:19.089 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:41:19.090 +05:30 [DBG] Compiling query expression: 
'DbSet<ManualTradingViewAlert>()
    .Where(a => a.ReceivedTime >= __parameters_FromDate_0 && a.ReceivedTime <= __parameters_ToDate_1)
    .OrderBy(a => a.ReceivedTime)'
2025-07-17 15:41:19.092 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ManualTradingViewAlert>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ManualTradingViewAlert.Id (string) Required PK AfterSave:Throw, 0], [Property: ManualTradingViewAlert.Action (string), 1], [Property: ManualTradingViewAlert.IsExecuted (bool) Required, 2], [Property: ManualTradingViewAlert.ReceivedTime (DateTime) Required, 3], [Property: ManualTradingViewAlert.Signal (string), 4], [Property: ManualTradingViewAlert.StrategyName (string), 5], [Property: ManualTradingViewAlert.Strike (int) Required, 6], [Property: ManualTradingViewAlert.Type (string), 7] }
        SELECT m.Id, m.Action, m.IsExecuted, m.ReceivedTime, m.Signal, m.StrategyName, m.Strike, m.Type
        FROM ManualTradingViewAlerts AS m
        WHERE (m.ReceivedTime >= @__parameters_FromDate_0) && (m.ReceivedTime <= @__parameters_ToDate_1)
        ORDER BY m.ReceivedTime ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ManualTradingViewAlert.Id (string) Required PK AfterSave:Throw, 0], [Property: ManualTradingViewAlert.Action (string), 1], [Property: ManualTradingViewAlert.IsExecuted (bool) Required, 2], [Property: ManualTradingViewAlert.ReceivedTime (DateTime) Required, 3], [Property: ManualTradingViewAlert.Signal (string), 4], [Property: ManualTradingViewAlert.StrategyName (string), 5], [Property: ManualTradingViewAlert.Strike (int) Required, 6], [Property: ManualTradingViewAlert.Type (string), 7] }
        SELECT m.Id, m.Action, m.IsExecuted, m.ReceivedTime, m.Signal, m.StrategyName, m.Strike, m.Type
        FROM ManualTradingViewAlerts AS m
        WHERE (m.ReceivedTime >= @__parameters_FromDate_0) && (m.ReceivedTime <= @__parameters_ToDate_1)
        ORDER BY m.ReceivedTime ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ManualTradingViewAlert entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ManualTradingViewAlert instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ManualTradingViewAlert);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ManualTradingViewAlert.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.ManualTradingViewAlert").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ManualTradingViewAlert)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ManualTradingViewAlert | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.ManualTradingViewAlert")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ManualTradingViewAlert | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.ManualTradingViewAlert")]: 
                        {
                            return 
                            {
                                ManualTradingViewAlert instance;
                                instance = new ManualTradingViewAlert();
                                instance.<Id>k__BackingField = dataReader.GetString(0);
                                instance.<Action>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<IsExecuted>k__BackingField = dataReader.GetBoolean(2);
                                instance.<ReceivedTime>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Signal>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<StrategyName>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<Strike>k__BackingField = dataReader.GetInt32(6);
                                instance.<Type>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ManualTradingViewAlert | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.ManualTradingViewAlert")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ManualTradingViewAlert)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: KiteConnectApi.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-17 15:41:19.093 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:41:19.093 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:41:19.093 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:19.093 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:19.093 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:19.093 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:19.093 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:19.093 +05:30 [DBG] Executing DbCommand [Parameters=[@__parameters_FromDate_0='?' (DbType = DateTime2), @__parameters_ToDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Action], [m].[IsExecuted], [m].[ReceivedTime], [m].[Signal], [m].[StrategyName], [m].[Strike], [m].[Type]
FROM [ManualTradingViewAlerts] AS [m]
WHERE [m].[ReceivedTime] >= @__parameters_FromDate_0 AND [m].[ReceivedTime] <= @__parameters_ToDate_1
ORDER BY [m].[ReceivedTime]
2025-07-17 15:41:19.099 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__parameters_FromDate_0='?' (DbType = DateTime2), @__parameters_ToDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Action], [m].[IsExecuted], [m].[ReceivedTime], [m].[Signal], [m].[StrategyName], [m].[Strike], [m].[Type]
FROM [ManualTradingViewAlerts] AS [m]
WHERE [m].[ReceivedTime] >= @__parameters_FromDate_0 AND [m].[ReceivedTime] <= @__parameters_ToDate_1
ORDER BY [m].[ReceivedTime]
2025-07-17 15:41:19.099 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:19.099 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:19.099 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:19.099 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:19.099 +05:30 [INF] Found 0 historical signals for backtesting
2025-07-17 15:41:19.099 +05:30 [INF] Backtest completed. Total trades: 0, Win rate: 0.00 %, Total return: 0.00 %
2025-07-17 15:41:19.100 +05:30 [INF] Executed action method KiteConnectApi.Controllers.HistoricalBacktestingController.GetQuickAnalysisAsync (KiteConnectApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.1749ms.
2025-07-17 15:41:19.100 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-17 15:41:19.100 +05:30 [DBG] No information found on request to perform content negotiation.
2025-07-17 15:41:19.100 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-17 15:41:19.100 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-17 15:41:19.100 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-17 15:41:19.100 +05:30 [INF] Executing OkObjectResult, writing value of type 'KiteConnectApi.Services.BacktestResult'.
2025-07-17 15:41:19.101 +05:30 [INF] Executed action KiteConnectApi.Controllers.HistoricalBacktestingController.GetQuickAnalysisAsync (KiteConnectApi) in 12.9881ms
2025-07-17 15:41:19.101 +05:30 [INF] Executed endpoint 'KiteConnectApi.Controllers.HistoricalBacktestingController.GetQuickAnalysisAsync (KiteConnectApi)'
2025-07-17 15:41:19.101 +05:30 [DBG] Connection id "0HNE5390KP7L5" completed keep alive response.
2025-07-17 15:41:19.101 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:41:19.101 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:19.101 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:41:19.101 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7000/api/HistoricalBacktesting/quick-analysis - 200 null application/json; charset=utf-8 19.2186ms
2025-07-17 15:41:19.102 +05:30 [DBG] Connection id "0HNE5390KP7L5" received FIN.
2025-07-17 15:41:19.102 +05:30 [DBG] Connection id "0HNE5390KP7L5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:41:19.102 +05:30 [DBG] Connection id "0HNE5390KP7L5" disconnecting.
2025-07-17 15:41:19.104 +05:30 [DBG] Connection id "0HNE5390KP7L5" stopped.
2025-07-17 15:41:21.857 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:02:25.1452972 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6aa73df1-cd3e-474f-9cd2-280462de3a77
Error Number:4060,State:1,Class:11
2025-07-17 15:41:21.858 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6aa73df1-cd3e-474f-9cd2-280462de3a77
Error Number:4060,State:1,Class:11
2025-07-17 15:41:21.858 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:41:26.144 +05:30 [DBG] Connection id "0HNE5390KP7L6" accepted.
2025-07-17 15:41:26.144 +05:30 [DBG] Connection id "0HNE5390KP7L6" started.
2025-07-17 15:41:26.156 +05:30 [DBG] Connection 0HNE5390KP7L6 established using the following protocol: "Tls13"
2025-07-17 15:41:26.157 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7000/api/HistoricalData/status - null null
2025-07-17 15:41:26.158 +05:30 [DBG] The request path /api/HistoricalData/status does not match a supported file type
2025-07-17 15:41:26.158 +05:30 [DBG] No candidates found for the request path '/api/HistoricalData/status'
2025-07-17 15:41:26.158 +05:30 [DBG] Request did not match any endpoints
2025-07-17 15:41:26.158 +05:30 [DBG] Connection id "0HNE5390KP7L6" completed keep alive response.
2025-07-17 15:41:26.158 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7000/api/HistoricalData/status - 404 0 null 1.7413ms
2025-07-17 15:41:26.158 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7000/api/HistoricalData/status, Response status code: 404
2025-07-17 15:41:26.159 +05:30 [DBG] Connection id "0HNE5390KP7L6" received FIN.
2025-07-17 15:41:26.159 +05:30 [DBG] Connection id "0HNE5390KP7L6" disconnecting.
2025-07-17 15:41:26.159 +05:30 [DBG] Connection id "0HNE5390KP7L6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:41:26.163 +05:30 [DBG] Connection id "0HNE5390KP7L6" stopped.
2025-07-17 15:41:26.644 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:41:30.418 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:41:30.418 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:41:32.155 +05:30 [DBG] Connection id "0HNE5390KP7L7" accepted.
2025-07-17 15:41:32.155 +05:30 [DBG] Connection id "0HNE5390KP7L7" started.
2025-07-17 15:41:32.167 +05:30 [DBG] Connection 0HNE5390KP7L7 established using the following protocol: "Tls13"
2025-07-17 15:41:32.167 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7000/api/HistoricalData/available-data - null null
2025-07-17 15:41:32.167 +05:30 [DBG] The request path /api/HistoricalData/available-data does not match a supported file type
2025-07-17 15:41:32.169 +05:30 [DBG] No candidates found for the request path '/api/HistoricalData/available-data'
2025-07-17 15:41:32.169 +05:30 [DBG] Request did not match any endpoints
2025-07-17 15:41:32.169 +05:30 [DBG] Connection id "0HNE5390KP7L7" completed keep alive response.
2025-07-17 15:41:32.169 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7000/api/HistoricalData/available-data - 404 0 null 1.8292ms
2025-07-17 15:41:32.169 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7000/api/HistoricalData/available-data, Response status code: 404
2025-07-17 15:41:32.170 +05:30 [DBG] Connection id "0HNE5390KP7L7" received FIN.
2025-07-17 15:41:32.170 +05:30 [DBG] Connection id "0HNE5390KP7L7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:41:32.170 +05:30 [DBG] Connection id "0HNE5390KP7L7" disconnecting.
2025-07-17 15:41:32.170 +05:30 [DBG] Connection id "0HNE5390KP7L7" stopped.
2025-07-17 15:41:36.868 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:02:40.1564903 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6aa73df1-cd3e-474f-9cd2-280462de3a77
Error Number:4060,State:1,Class:11
2025-07-17 15:41:36.869 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6aa73df1-cd3e-474f-9cd2-280462de3a77
Error Number:4060,State:1,Class:11
2025-07-17 15:41:36.869 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:41:43.669 +05:30 [DBG] Connection id "0HNE5390KP7L8" accepted.
2025-07-17 15:41:43.669 +05:30 [DBG] Connection id "0HNE5390KP7L8" started.
2025-07-17 15:41:43.680 +05:30 [DBG] Connection 0HNE5390KP7L8 established using the following protocol: "Tls13"
2025-07-17 15:41:43.680 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7000/api/TradingView/auth-status - null null
2025-07-17 15:41:43.681 +05:30 [DBG] The request path /api/TradingView/auth-status does not match a supported file type
2025-07-17 15:41:43.681 +05:30 [DBG] No candidates found for the request path '/api/TradingView/auth-status'
2025-07-17 15:41:43.681 +05:30 [DBG] Request did not match any endpoints
2025-07-17 15:41:43.681 +05:30 [DBG] Connection id "0HNE5390KP7L8" completed keep alive response.
2025-07-17 15:41:43.681 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7000/api/TradingView/auth-status - 404 0 null 0.4095ms
2025-07-17 15:41:43.681 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7000/api/TradingView/auth-status, Response status code: 404
2025-07-17 15:41:43.682 +05:30 [DBG] Connection id "0HNE5390KP7L8" received FIN.
2025-07-17 15:41:43.682 +05:30 [DBG] Connection id "0HNE5390KP7L8" disconnecting.
2025-07-17 15:41:43.682 +05:30 [DBG] Connection id "0HNE5390KP7L8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:41:43.691 +05:30 [DBG] Connection id "0HNE5390KP7L8" stopped.
2025-07-17 15:41:46.228 +05:30 [DBG] Before collection #3: memory: 31MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:41:46.228 +05:30 [DBG] After collection #3 memory: 31MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0002878"
2025-07-17 15:41:51.515 +05:30 [DBG] Connection id "0HNE5390KP7L9" accepted.
2025-07-17 15:41:51.515 +05:30 [DBG] Connection id "0HNE5390KP7L9" started.
2025-07-17 15:41:51.527 +05:30 [DBG] Connection 0HNE5390KP7L9 established using the following protocol: "Tls13"
2025-07-17 15:41:51.527 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7000/api/HistoricalData/fetch-real-data - application/json 203
2025-07-17 15:41:51.527 +05:30 [DBG] POST requests are not supported
2025-07-17 15:41:51.527 +05:30 [DBG] 1 candidate(s) found for the request path '/api/HistoricalData/fetch-real-data'
2025-07-17 15:41:51.527 +05:30 [DBG] Endpoint 'KiteConnectApi.Controllers.HistoricalDataController.FetchRealDataAsync (KiteConnectApi)' with route pattern 'api/HistoricalData/fetch-real-data' is valid for the request path '/api/HistoricalData/fetch-real-data'
2025-07-17 15:41:51.527 +05:30 [DBG] Request matched endpoint 'KiteConnectApi.Controllers.HistoricalDataController.FetchRealDataAsync (KiteConnectApi)'
2025-07-17 15:41:51.527 +05:30 [INF] Executing endpoint 'KiteConnectApi.Controllers.HistoricalDataController.FetchRealDataAsync (KiteConnectApi)'
2025-07-17 15:41:51.530 +05:30 [INF] Route matched with {action = "FetchRealData", controller = "HistoricalData"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KiteConnectApi.Services.HistoricalDataFetchResult]] FetchRealDataAsync(KiteConnectApi.Controllers.RealDataFetchRequest) on controller KiteConnectApi.Controllers.HistoricalDataController (KiteConnectApi).
2025-07-17 15:41:51.530 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-17 15:41:51.530 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-17 15:41:51.530 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-07-17 15:41:51.530 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-17 15:41:51.530 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-07-17 15:41:51.530 +05:30 [DBG] Executing controller factory for controller KiteConnectApi.Controllers.HistoricalDataController (KiteConnectApi)
2025-07-17 15:41:51.531 +05:30 [DBG] Executed controller factory for controller KiteConnectApi.Controllers.HistoricalDataController (KiteConnectApi)
2025-07-17 15:41:51.531 +05:30 [DBG] Attempting to bind parameter 'request' of type 'KiteConnectApi.Controllers.RealDataFetchRequest' ...
2025-07-17 15:41:51.531 +05:30 [DBG] Attempting to bind parameter 'request' of type 'KiteConnectApi.Controllers.RealDataFetchRequest' using the name '' in request data ...
2025-07-17 15:41:51.531 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-17 15:41:51.533 +05:30 [DBG] Connection id "0HNE5390KP7L9", Request id "0HNE5390KP7L9:00000001": started reading request body.
2025-07-17 15:41:51.533 +05:30 [DBG] Connection id "0HNE5390KP7L9", Request id "0HNE5390KP7L9:00000001": done reading request body.
2025-07-17 15:41:51.535 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'KiteConnectApi.Controllers.RealDataFetchRequest'
2025-07-17 15:41:51.535 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'KiteConnectApi.Controllers.RealDataFetchRequest'.
2025-07-17 15:41:51.535 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'KiteConnectApi.Controllers.RealDataFetchRequest'.
2025-07-17 15:41:51.535 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'KiteConnectApi.Controllers.RealDataFetchRequest' ...
2025-07-17 15:41:51.537 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'KiteConnectApi.Controllers.RealDataFetchRequest'.
2025-07-17 15:41:51.538 +05:30 [INF] Executing action method KiteConnectApi.Controllers.HistoricalDataController.FetchRealDataAsync (KiteConnectApi) - Validation state: "Valid"
2025-07-17 15:41:51.811 +05:30 [INF] Loaded saved tokens successfully
2025-07-17 15:41:51.864 +05:30 [INF] Fetching historical data for 7 strikes from "2024-06-24T00:00:00.0000000Z" to "2024-07-15T00:00:00.0000000Z"
2025-07-17 15:41:51.875 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:02:55.1632551 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6aa73df1-cd3e-474f-9cd2-280462de3a77
Error Number:4060,State:1,Class:11
2025-07-17 15:41:51.875 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6aa73df1-cd3e-474f-9cd2-280462de3a77
Error Number:4060,State:1,Class:11
2025-07-17 15:41:51.876 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:41:52.752 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:41:52.753 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsHistoricalData>()
    .Count(d => d.TradingSymbol == __instrument_TradingSymbol_0 && d.Timestamp >= __8__locals1_fromDate_1 && d.Timestamp <= __8__locals1_toDate_2)'
2025-07-17 15:41:52.782 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM OptionsHistoricalData AS o
            WHERE ((o.TradingSymbol == @__instrument_TradingSymbol_0) && (o.Timestamp >= @__8__locals1_fromDate_1)) && (o.Timestamp <= @__8__locals1_toDate_2)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM OptionsHistoricalData AS o
            WHERE ((o.TradingSymbol == @__instrument_TradingSymbol_0) && (o.Timestamp >= @__8__locals1_fromDate_1)) && (o.Timestamp <= @__8__locals1_toDate_2), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: KiteConnectApi.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-17 15:41:52.786 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:41:52.786 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:41:52.786 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:52.787 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:52.787 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:52.787 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:52.787 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:52.787 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:52.795 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:52.796 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:52.796 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 1ms reading results.
2025-07-17 15:41:52.796 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:52.796 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:52.991 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:52.992 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:52.992 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:52.992 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:52.992 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:52.992 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:52.993 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:52.993 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:52.993 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:52.993 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:52.993 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:53.165 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.165 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.165 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:53.165 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.165 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.165 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.166 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.166 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.166 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:53.166 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.166 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:53.331 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.332 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.332 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:53.332 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.332 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.332 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.333 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.333 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:53.333 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.333 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:53.487 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.488 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.488 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:53.488 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.488 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.488 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.490 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.490 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:53.490 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.490 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:53.650 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.650 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.650 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:53.651 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.651 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.651 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.653 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.653 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.653 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:53.653 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.653 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:53.817 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.817 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.817 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:53.817 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.817 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.817 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.818 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.818 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.818 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:53.818 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.818 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:53.984 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.984 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.984 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:53.984 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.984 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:53.985 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.986 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:53.986 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.986 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:53.986 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:53.986 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:54.146 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.146 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.147 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:54.147 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:54.147 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:54.147 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:54.148 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:54.148 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.148 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:54.148 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.148 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:54.319 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.319 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.319 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:54.319 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:54.319 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:54.319 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:54.320 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:54.320 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.320 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:54.320 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.320 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:54.478 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.478 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.478 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:54.479 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:54.479 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:54.479 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:54.480 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:54.480 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.481 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:54.481 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.481 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:54.647 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.647 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.647 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:54.648 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:54.648 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:54.648 +05:30 [DBG] Executing DbCommand [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:54.648 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instrument_TradingSymbol_0='?' (Size = 50), @__8__locals1_fromDate_1='?' (DbType = DateTime2), @__8__locals1_toDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OptionsHistoricalData] AS [o]
WHERE [o].[TradingSymbol] = @__instrument_TradingSymbol_0 AND [o].[Timestamp] >= @__8__locals1_fromDate_1 AND [o].[Timestamp] <= @__8__locals1_toDate_2
2025-07-17 15:41:54.649 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.649 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:54.649 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.649 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:54.819 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-17 15:41:54.823 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-17 15:41:54.824 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-17 15:41:54.827 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-07-17 15:41:54.827 +05:30 [INF] Historical data fetch completed. Added 0 records
2025-07-17 15:41:54.827 +05:30 [INF] Executed action method KiteConnectApi.Controllers.HistoricalDataController.FetchRealDataAsync (KiteConnectApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3289.322ms.
2025-07-17 15:41:54.827 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-17 15:41:54.827 +05:30 [DBG] No information found on request to perform content negotiation.
2025-07-17 15:41:54.827 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-17 15:41:54.827 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-17 15:41:54.827 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-17 15:41:54.827 +05:30 [INF] Executing OkObjectResult, writing value of type 'KiteConnectApi.Services.HistoricalDataFetchResult'.
2025-07-17 15:41:54.829 +05:30 [INF] Executed action KiteConnectApi.Controllers.HistoricalDataController.FetchRealDataAsync (KiteConnectApi) in 3298.4572ms
2025-07-17 15:41:54.829 +05:30 [INF] Executed endpoint 'KiteConnectApi.Controllers.HistoricalDataController.FetchRealDataAsync (KiteConnectApi)'
2025-07-17 15:41:54.829 +05:30 [DBG] Connection id "0HNE5390KP7L9" completed keep alive response.
2025-07-17 15:41:54.829 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:41:54.829 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:54.829 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:41:54.829 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7000/api/HistoricalData/fetch-real-data - 200 null application/json; charset=utf-8 3302.0353ms
2025-07-17 15:41:54.830 +05:30 [DBG] Connection id "0HNE5390KP7L9" received FIN.
2025-07-17 15:41:54.830 +05:30 [DBG] Connection id "0HNE5390KP7L9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:41:54.830 +05:30 [DBG] Connection id "0HNE5390KP7L9" disconnecting.
2025-07-17 15:41:54.830 +05:30 [DBG] Connection id "0HNE5390KP7L9" stopped.
2025-07-17 15:41:56.539 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:41:56.539 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:41:56.540 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:41:56.540 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:41:56.587 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:41:56.5875814+05:30"
2025-07-17 15:41:56.649 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:41:56.744 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:41:56.7444195+05:30"
2025-07-17 15:41:56.745 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:41:56.745 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:41:56.746 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:41:56.746 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:56.746 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:56.746 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:41:56.746 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:56.746 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:41:56.746 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:41:56.749 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:41:56.749 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:56.750 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:41:56.750 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:56.750 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:41:56.750 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:41:56.750 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:41:56.750 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:42:02.155 +05:30 [DBG] Connection id "0HNE5390KP7LA" accepted.
2025-07-17 15:42:02.156 +05:30 [DBG] Connection id "0HNE5390KP7LA" started.
2025-07-17 15:42:02.167 +05:30 [DBG] Connection 0HNE5390KP7LA established using the following protocol: "Tls13"
2025-07-17 15:42:02.168 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7000/api/HistoricalData/add-sample-signals - application/json 163
2025-07-17 15:42:02.168 +05:30 [DBG] POST requests are not supported
2025-07-17 15:42:02.168 +05:30 [DBG] No candidates found for the request path '/api/HistoricalData/add-sample-signals'
2025-07-17 15:42:02.168 +05:30 [DBG] Request did not match any endpoints
2025-07-17 15:42:02.168 +05:30 [DBG] Connection id "0HNE5390KP7LA" completed keep alive response.
2025-07-17 15:42:02.168 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7000/api/HistoricalData/add-sample-signals - 404 0 null 0.2576ms
2025-07-17 15:42:02.168 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7000/api/HistoricalData/add-sample-signals, Response status code: 404
2025-07-17 15:42:02.168 +05:30 [DBG] Connection id "0HNE5390KP7LA", Request id "0HNE5390KP7LA:00000001": started reading request body.
2025-07-17 15:42:02.168 +05:30 [DBG] Connection id "0HNE5390KP7LA", Request id "0HNE5390KP7LA:00000001": done reading request body.
2025-07-17 15:42:02.168 +05:30 [DBG] Connection id "0HNE5390KP7LA" disconnecting.
2025-07-17 15:42:02.169 +05:30 [DBG] Connection id "0HNE5390KP7LA" stopped.
2025-07-17 15:42:02.169 +05:30 [DBG] Connection id "0HNE5390KP7LA" received FIN.
2025-07-17 15:42:02.169 +05:30 [DBG] Connection id "0HNE5390KP7LA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:42:06.880 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:03:10.1677976 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6aa73df1-cd3e-474f-9cd2-280462de3a77
Error Number:4060,State:1,Class:11
2025-07-17 15:42:06.881 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6aa73df1-cd3e-474f-9cd2-280462de3a77
Error Number:4060,State:1,Class:11
2025-07-17 15:42:06.881 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:42:26.657 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:42:30.421 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:42:30.421 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:42:31.913 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:03:35.2010247 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66af98e6-2fcd-46b4-b30f-f57f13f45625
Error Number:4060,State:1,Class:11
2025-07-17 15:42:31.914 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66af98e6-2fcd-46b4-b30f-f57f13f45625
Error Number:4060,State:1,Class:11
2025-07-17 15:42:31.915 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:42:46.217 +05:30 [DBG] Before collection #4: memory: 37MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:42:46.217 +05:30 [DBG] After collection #4 memory: 37MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0003947"
2025-07-17 15:42:46.926 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:03:50.2143216 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66af98e6-2fcd-46b4-b30f-f57f13f45625
Error Number:4060,State:1,Class:11
2025-07-17 15:42:46.927 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66af98e6-2fcd-46b4-b30f-f57f13f45625
Error Number:4060,State:1,Class:11
2025-07-17 15:42:46.927 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:42:56.564 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:42:56.564 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:42:56.565 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:42:56.565 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:42:56.596 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:42:56.5968179+05:30"
2025-07-17 15:42:56.664 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:42:56.757 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:42:56.7574613+05:30"
2025-07-17 15:42:56.758 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:42:56.758 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:42:56.758 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:42:56.758 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:42:56.758 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:42:56.758 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:42:56.758 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:42:56.758 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:42:56.758 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:42:56.761 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:42:56.762 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:42:56.762 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:42:56.762 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:42:56.762 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:42:56.762 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:42:56.762 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:42:56.762 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:43:01.943 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:04:05.2310650 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66af98e6-2fcd-46b4-b30f-f57f13f45625
Error Number:4060,State:1,Class:11
2025-07-17 15:43:01.944 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66af98e6-2fcd-46b4-b30f-f57f13f45625
Error Number:4060,State:1,Class:11
2025-07-17 15:43:01.944 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:43:11.296 +05:30 [DBG] HttpMessageHandler expired after 120000ms for client 'MarketSentimentAnalyzer'
2025-07-17 15:43:16.947 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:04:20.2355318 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66af98e6-2fcd-46b4-b30f-f57f13f45625
Error Number:4060,State:1,Class:11
2025-07-17 15:43:16.948 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66af98e6-2fcd-46b4-b30f-f57f13f45625
Error Number:4060,State:1,Class:11
2025-07-17 15:43:16.948 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:43:21.298 +05:30 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-07-17 15:43:21.300 +05:30 [DBG] Ending HttpMessageHandler cleanup cycle after 0.13ms - processed: 0 items - remaining: 1 items
2025-07-17 15:43:26.670 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:43:30.445 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:43:30.445 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:43:31.310 +05:30 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-07-17 15:43:31.311 +05:30 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 1 items
2025-07-17 15:43:41.315 +05:30 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-07-17 15:43:41.315 +05:30 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
2025-07-17 15:43:41.983 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:04:45.2706830 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9331b7cf-7961-42f1-9a2d-52270097d391
Error Number:4060,State:1,Class:11
2025-07-17 15:43:41.984 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9331b7cf-7961-42f1-9a2d-52270097d391
Error Number:4060,State:1,Class:11
2025-07-17 15:43:42.029 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:43:46.214 +05:30 [DBG] Before collection #5: memory: 27MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:43:46.214 +05:30 [DBG] After collection #5 memory: 27MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0001392"
2025-07-17 15:43:51.324 +05:30 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-07-17 15:43:51.325 +05:30 [DBG] Ending HttpMessageHandler cleanup cycle after 0.6133ms - processed: 1 items - remaining: 0 items
2025-07-17 15:43:56.584 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:43:56.584 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:43:56.585 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:43:56.585 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:43:56.601 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:43:56.6011596+05:30"
2025-07-17 15:43:56.672 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:43:56.763 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:43:56.7633929+05:30"
2025-07-17 15:43:56.764 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:43:56.764 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:43:56.764 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:43:56.764 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:43:56.764 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:43:56.764 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:43:56.764 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:43:56.764 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:43:56.764 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:43:56.767 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:43:56.767 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:43:56.767 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:43:56.767 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:43:56.767 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:43:56.767 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:43:56.767 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:43:56.767 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:43:57.026 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:05:00.3141224 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9331b7cf-7961-42f1-9a2d-52270097d391
Error Number:4060,State:1,Class:11
2025-07-17 15:43:57.027 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9331b7cf-7961-42f1-9a2d-52270097d391
Error Number:4060,State:1,Class:11
2025-07-17 15:43:57.027 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:44:12.031 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:05:15.3186546 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9331b7cf-7961-42f1-9a2d-52270097d391
Error Number:4060,State:1,Class:11
2025-07-17 15:44:12.031 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9331b7cf-7961-42f1-9a2d-52270097d391
Error Number:4060,State:1,Class:11
2025-07-17 15:44:12.031 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:44:26.674 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:44:27.046 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:05:30.3336445 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9331b7cf-7961-42f1-9a2d-52270097d391
Error Number:4060,State:1,Class:11
2025-07-17 15:44:27.046 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9331b7cf-7961-42f1-9a2d-52270097d391
Error Number:4060,State:1,Class:11
2025-07-17 15:44:27.046 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:44:30.450 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:44:30.450 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:44:46.213 +05:30 [DBG] Before collection #6: memory: 30MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:44:46.213 +05:30 [DBG] After collection #6 memory: 30MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0004423"
2025-07-17 15:44:52.073 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:05:55.3608463 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:cb21f14c-11c7-4e92-963a-d44ba19cc366
Error Number:4060,State:1,Class:11
2025-07-17 15:44:52.073 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:cb21f14c-11c7-4e92-963a-d44ba19cc366
Error Number:4060,State:1,Class:11
2025-07-17 15:44:52.073 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:44:56.600 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:44:56.600 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:44:56.600 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:44:56.600 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:44:56.618 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:44:56.6187091+05:30"
2025-07-17 15:44:56.678 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:44:56.783 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:44:56.7834670+05:30"
2025-07-17 15:44:56.784 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:44:56.784 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:44:56.784 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:44:56.784 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:44:56.784 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:44:56.784 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:44:56.784 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:44:56.784 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:44:56.784 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:44:56.788 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:44:56.788 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:44:56.788 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:44:56.788 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:44:56.788 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:44:56.788 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:44:56.788 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:44:56.788 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:45:17.104 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:06:20.3922002 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b889c527-4c8a-4373-9c00-89a9b47f6b80
Error Number:4060,State:1,Class:11
2025-07-17 15:45:17.104 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b889c527-4c8a-4373-9c00-89a9b47f6b80
Error Number:4060,State:1,Class:11
2025-07-17 15:45:17.105 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:45:26.683 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:45:30.456 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:45:30.457 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:45:42.132 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:06:45.4204286 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:059d5309-419a-4076-948a-6ccd5e3c7b8c
Error Number:4060,State:1,Class:11
2025-07-17 15:45:42.133 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:059d5309-419a-4076-948a-6ccd5e3c7b8c
Error Number:4060,State:1,Class:11
2025-07-17 15:45:42.133 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:45:46.213 +05:30 [DBG] Before collection #7: memory: 34MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:45:46.213 +05:30 [DBG] After collection #7 memory: 34MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0001782"
2025-07-17 15:45:56.614 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:45:56.615 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:45:56.616 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:45:56.616 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:45:56.628 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:45:56.6284775+05:30"
2025-07-17 15:45:56.696 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:45:56.794 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:45:56.7949464+05:30"
2025-07-17 15:45:56.795 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:45:56.795 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:45:56.795 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:45:56.796 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:45:56.796 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:45:56.796 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:45:56.796 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:45:56.796 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:45:56.796 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:45:56.799 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:45:56.799 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:45:56.799 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:45:56.799 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:45:56.800 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:45:56.800 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:45:56.800 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:45:56.800 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:46:07.166 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:07:10.4543144 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:72297f49-e285-4196-b647-fba254c271ac
Error Number:4060,State:1,Class:11
2025-07-17 15:46:07.167 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:72297f49-e285-4196-b647-fba254c271ac
Error Number:4060,State:1,Class:11
2025-07-17 15:46:07.167 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:46:26.707 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:46:30.461 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:46:30.461 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:46:32.196 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:07:35.4844708 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:41ade701-32f1-4ad3-a373-4e5dd2003651
Error Number:4060,State:1,Class:11
2025-07-17 15:46:32.197 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:41ade701-32f1-4ad3-a373-4e5dd2003651
Error Number:4060,State:1,Class:11
2025-07-17 15:46:32.197 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:46:46.210 +05:30 [DBG] Before collection #8: memory: 38MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:46:46.210 +05:30 [DBG] After collection #8 memory: 38MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0004130"
2025-07-17 15:46:47.210 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:07:50.4979404 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:41ade701-32f1-4ad3-a373-4e5dd2003651
Error Number:4060,State:1,Class:11
2025-07-17 15:46:47.210 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:41ade701-32f1-4ad3-a373-4e5dd2003651
Error Number:4060,State:1,Class:11
2025-07-17 15:46:47.211 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:46:56.630 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:46:56.6309545+05:30"
2025-07-17 15:46:56.632 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:46:56.633 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:46:56.633 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:46:56.633 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:46:56.717 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:46:56.803 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:46:56.8030261+05:30"
2025-07-17 15:46:56.803 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:46:56.803 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:46:56.803 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:46:56.803 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:46:56.804 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:46:56.804 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:46:56.804 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:46:56.804 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:46:56.804 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:46:56.806 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:46:56.806 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:46:56.806 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:46:56.807 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:46:56.807 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:46:56.807 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:46:56.807 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:46:56.807 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:47:12.245 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:08:15.5333096 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:f80b867b-e5a9-4a85-962c-47021c937d80
Error Number:4060,State:1,Class:11
2025-07-17 15:47:12.246 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:f80b867b-e5a9-4a85-962c-47021c937d80
Error Number:4060,State:1,Class:11
2025-07-17 15:47:12.246 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:47:26.722 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:47:27.255 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:08:30.5435408 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:f80b867b-e5a9-4a85-962c-47021c937d80
Error Number:4060,State:1,Class:11
2025-07-17 15:47:27.256 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:f80b867b-e5a9-4a85-962c-47021c937d80
Error Number:4060,State:1,Class:11
2025-07-17 15:47:27.256 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:47:30.467 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:47:30.467 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:47:42.258 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:08:45.5465391 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:f80b867b-e5a9-4a85-962c-47021c937d80
Error Number:4060,State:1,Class:11
2025-07-17 15:47:42.259 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:f80b867b-e5a9-4a85-962c-47021c937d80
Error Number:4060,State:1,Class:11
2025-07-17 15:47:42.259 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:47:46.222 +05:30 [DBG] Before collection #9: memory: 41MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:47:46.223 +05:30 [DBG] After collection #9 memory: 41MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0003045"
2025-07-17 15:47:56.635 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:47:56.6355886+05:30"
2025-07-17 15:47:56.636 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:47:56.637 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:47:56.638 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:47:56.638 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:47:56.722 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:47:56.820 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:47:56.8208181+05:30"
2025-07-17 15:47:56.821 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:47:56.821 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:47:56.821 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:47:56.821 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:47:56.821 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:47:56.821 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:47:56.821 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:47:56.821 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:47:56.821 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:47:56.825 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:47:56.825 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:47:56.825 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:47:56.825 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:47:56.825 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:47:56.825 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:47:56.825 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:47:56.825 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:48:07.286 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:09:10.5743676 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4593a6d6-6ea8-4884-a787-6ebd52ec0fed
Error Number:4060,State:1,Class:11
2025-07-17 15:48:07.287 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4593a6d6-6ea8-4884-a787-6ebd52ec0fed
Error Number:4060,State:1,Class:11
2025-07-17 15:48:07.288 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:48:22.290 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:09:25.5777390 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4593a6d6-6ea8-4884-a787-6ebd52ec0fed
Error Number:4060,State:1,Class:11
2025-07-17 15:48:22.290 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4593a6d6-6ea8-4884-a787-6ebd52ec0fed
Error Number:4060,State:1,Class:11
2025-07-17 15:48:22.290 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:48:26.725 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:48:30.468 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:48:30.468 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:48:37.309 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:09:40.5969469 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4593a6d6-6ea8-4884-a787-6ebd52ec0fed
Error Number:4060,State:1,Class:11
2025-07-17 15:48:37.309 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4593a6d6-6ea8-4884-a787-6ebd52ec0fed
Error Number:4060,State:1,Class:11
2025-07-17 15:48:37.310 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:48:46.210 +05:30 [DBG] Before collection #10: memory: 45MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:48:46.210 +05:30 [DBG] After collection #10 memory: 45MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0002734"
2025-07-17 15:48:52.312 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:09:55.5998614 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4593a6d6-6ea8-4884-a787-6ebd52ec0fed
Error Number:4060,State:1,Class:11
2025-07-17 15:48:52.312 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4593a6d6-6ea8-4884-a787-6ebd52ec0fed
Error Number:4060,State:1,Class:11
2025-07-17 15:48:52.312 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:48:56.638 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:48:56.6383219+05:30"
2025-07-17 15:48:56.639 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:48:56.639 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:48:56.640 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:48:56.640 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:48:56.742 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:48:56.832 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:48:56.8322296+05:30"
2025-07-17 15:48:56.832 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:48:56.833 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:48:56.833 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:48:56.833 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:48:56.833 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:48:56.833 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:48:56.833 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:48:56.833 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:48:56.833 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:48:56.834 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:48:56.834 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:48:56.834 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:48:56.834 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:48:56.834 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:48:56.834 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:48:56.834 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:48:56.834 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:49:17.355 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:10:20.6427102 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:2bceacb6-bc91-4091-a492-a2dc1a8db225
Error Number:4060,State:1,Class:11
2025-07-17 15:49:17.355 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:2bceacb6-bc91-4091-a492-a2dc1a8db225
Error Number:4060,State:1,Class:11
2025-07-17 15:49:17.355 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:49:26.768 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:49:30.472 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:49:30.472 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:49:42.386 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:10:45.6743053 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:91b428a6-0e70-4455-8818-8f880596fffe
Error Number:4060,State:1,Class:11
2025-07-17 15:49:42.387 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:91b428a6-0e70-4455-8818-8f880596fffe
Error Number:4060,State:1,Class:11
2025-07-17 15:49:42.387 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:49:46.223 +05:30 [DBG] Before collection #11: memory: 49MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:49:46.223 +05:30 [DBG] After collection #11 memory: 49MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0001668"
2025-07-17 15:49:56.639 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:49:56.6392378+05:30"
2025-07-17 15:49:56.641 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:49:56.641 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:49:56.642 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:49:56.642 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:49:56.778 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:49:56.844 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:49:56.8440289+05:30"
2025-07-17 15:49:56.844 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:49:56.844 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:49:56.844 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:49:56.844 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:49:56.844 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:49:56.845 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:49:56.845 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:49:56.845 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:49:56.845 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:49:56.846 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:49:56.846 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:49:56.846 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:49:56.846 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:49:56.846 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:49:56.846 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:49:56.846 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:49:56.846 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:50:07.404 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:11:10.6916780 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:8ba17511-3de1-49d0-a25b-3839fd1911e2
Error Number:4060,State:1,Class:11
2025-07-17 15:50:07.404 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:8ba17511-3de1-49d0-a25b-3839fd1911e2
Error Number:4060,State:1,Class:11
2025-07-17 15:50:07.404 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:50:26.786 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:50:30.473 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:50:30.473 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:50:32.428 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:11:35.7165403 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:3b6d2e96-9df6-4937-97ef-98f7dc7ed58e
Error Number:4060,State:1,Class:11
2025-07-17 15:50:32.429 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:3b6d2e96-9df6-4937-97ef-98f7dc7ed58e
Error Number:4060,State:1,Class:11
2025-07-17 15:50:32.429 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:50:46.214 +05:30 [DBG] Before collection #12: memory: 52MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:50:46.215 +05:30 [DBG] After collection #12 memory: 52MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0003914"
2025-07-17 15:50:47.434 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:11:50.7216928 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:3b6d2e96-9df6-4937-97ef-98f7dc7ed58e
Error Number:4060,State:1,Class:11
2025-07-17 15:50:47.434 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:3b6d2e96-9df6-4937-97ef-98f7dc7ed58e
Error Number:4060,State:1,Class:11
2025-07-17 15:50:47.434 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:50:56.639 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:50:56.6397568+05:30"
2025-07-17 15:50:56.640 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:50:56.640 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:50:56.641 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:50:56.641 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:50:56.786 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:50:56.856 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:50:56.8566408+05:30"
2025-07-17 15:50:56.857 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:50:56.857 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:50:56.857 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:50:56.857 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:50:56.857 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:50:56.857 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:50:56.857 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:50:56.857 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:50:56.857 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:50:56.860 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:50:56.860 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:50:56.860 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:50:56.860 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:50:56.860 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:50:56.860 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:50:56.860 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:50:56.860 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:51:12.459 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:12:15.7467251 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:63351cf8-e35a-4dc8-9600-c8cd06296ca3
Error Number:4060,State:1,Class:11
2025-07-17 15:51:12.459 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:63351cf8-e35a-4dc8-9600-c8cd06296ca3
Error Number:4060,State:1,Class:11
2025-07-17 15:51:12.459 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:51:26.787 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:51:27.473 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:12:30.7612734 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:63351cf8-e35a-4dc8-9600-c8cd06296ca3
Error Number:4060,State:1,Class:11
2025-07-17 15:51:27.473 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:63351cf8-e35a-4dc8-9600-c8cd06296ca3
Error Number:4060,State:1,Class:11
2025-07-17 15:51:27.474 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:51:30.482 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:51:30.482 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111751726 SiloName=Silo_3beea Status=Active]
2025-07-17 15:51:31.249 +05:30 [DBG] Connection id "0HNE5390KP7LB" accepted.
2025-07-17 15:51:31.249 +05:30 [DBG] Connection id "0HNE5390KP7LB" started.
2025-07-17 15:51:31.259 +05:30 [DBG] Connection 0HNE5390KP7LB established using the following protocol: "Tls13"
2025-07-17 15:51:31.260 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7000/api/IndicatorBacktest/quick-backtest - application/json null
2025-07-17 15:51:31.260 +05:30 [DBG] POST requests are not supported
2025-07-17 15:51:31.261 +05:30 [DBG] No candidates found for the request path '/api/IndicatorBacktest/quick-backtest'
2025-07-17 15:51:31.261 +05:30 [DBG] Request did not match any endpoints
2025-07-17 15:51:31.261 +05:30 [DBG] Connection id "0HNE5390KP7LB" completed keep alive response.
2025-07-17 15:51:31.261 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7000/api/IndicatorBacktest/quick-backtest - 404 0 null 1.0926ms
2025-07-17 15:51:31.261 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7000/api/IndicatorBacktest/quick-backtest, Response status code: 404
2025-07-17 15:51:31.262 +05:30 [DBG] Connection id "0HNE5390KP7LB" received FIN.
2025-07-17 15:51:31.262 +05:30 [DBG] Connection id "0HNE5390KP7LB" disconnecting.
2025-07-17 15:51:31.262 +05:30 [DBG] Connection id "0HNE5390KP7LB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:51:31.264 +05:30 [DBG] Connection id "0HNE5390KP7LB" stopped.
2025-07-17 15:51:39.814 +05:30 [DBG] Connection id "0HNE5390KP7LC" accepted.
2025-07-17 15:51:39.815 +05:30 [DBG] Connection id "0HNE5390KP7LC" started.
2025-07-17 15:51:39.826 +05:30 [DBG] Connection 0HNE5390KP7LC established using the following protocol: "Tls13"
2025-07-17 15:51:39.827 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7000/api/ApiTradingDashboard/current-signals - application/json null
2025-07-17 15:51:39.827 +05:30 [DBG] The request path /api/ApiTradingDashboard/current-signals does not match a supported file type
2025-07-17 15:51:39.827 +05:30 [DBG] 1 candidate(s) found for the request path '/api/ApiTradingDashboard/current-signals'
2025-07-17 15:51:39.827 +05:30 [DBG] Endpoint 'KiteConnectApi.Controllers.ApiTradingDashboardController.GetCurrentSignalsAsync (KiteConnectApi)' with route pattern 'api/ApiTradingDashboard/current-signals' is valid for the request path '/api/ApiTradingDashboard/current-signals'
2025-07-17 15:51:39.827 +05:30 [DBG] Request matched endpoint 'KiteConnectApi.Controllers.ApiTradingDashboardController.GetCurrentSignalsAsync (KiteConnectApi)'
2025-07-17 15:51:39.827 +05:30 [INF] Executing endpoint 'KiteConnectApi.Controllers.ApiTradingDashboardController.GetCurrentSignalsAsync (KiteConnectApi)'
2025-07-17 15:51:39.830 +05:30 [INF] Route matched with {action = "GetCurrentSignals", controller = "ApiTradingDashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[KiteConnectApi.Models.Trading.ApiAlertDetails]]] GetCurrentSignalsAsync() on controller KiteConnectApi.Controllers.ApiTradingDashboardController (KiteConnectApi).
2025-07-17 15:51:39.830 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-17 15:51:39.830 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-17 15:51:39.830 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-07-17 15:51:39.830 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-17 15:51:39.830 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-07-17 15:51:39.830 +05:30 [DBG] Executing controller factory for controller KiteConnectApi.Controllers.ApiTradingDashboardController (KiteConnectApi)
2025-07-17 15:51:39.831 +05:30 [INF] Executed action KiteConnectApi.Controllers.ApiTradingDashboardController.GetCurrentSignalsAsync (KiteConnectApi) in 0.9694ms
2025-07-17 15:51:39.832 +05:30 [INF] Executed endpoint 'KiteConnectApi.Controllers.ApiTradingDashboardController.GetCurrentSignalsAsync (KiteConnectApi)'
2025-07-17 15:51:39.833 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'KiteConnectApi.Services.ApiTradingDashboardService' while attempting to activate 'KiteConnectApi.Controllers.ApiTradingDashboardController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method150(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-17 15:51:39.840 +05:30 [DBG] Connection id "0HNE5390KP7LC" completed keep alive response.
2025-07-17 15:51:39.840 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7000/api/ApiTradingDashboard/current-signals - 500 null text/plain; charset=utf-8 13.5366ms
2025-07-17 15:51:39.841 +05:30 [DBG] Connection id "0HNE5390KP7LC" disconnecting.
2025-07-17 15:51:39.841 +05:30 [DBG] Connection id "0HNE5390KP7LC" received FIN.
2025-07-17 15:51:39.841 +05:30 [DBG] Connection id "0HNE5390KP7LC" stopped.
2025-07-17 15:51:39.841 +05:30 [DBG] Connection id "0HNE5390KP7LC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-17 15:51:42.476 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:12:45.7644886 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:63351cf8-e35a-4dc8-9600-c8cd06296ca3
Error Number:4060,State:1,Class:11
2025-07-17 15:51:42.477 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:63351cf8-e35a-4dc8-9600-c8cd06296ca3
Error Number:4060,State:1,Class:11
2025-07-17 15:51:42.477 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:51:46.221 +05:30 [DBG] Before collection #13: memory: 56MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:51:46.221 +05:30 [DBG] After collection #13 memory: 56MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0001615"
2025-07-17 15:51:56.650 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:51:56.6502250+05:30"
2025-07-17 15:51:56.651 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:51:56.651 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:51:56.651 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:51:56.651 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:51:56.795 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111751726 SiloName= Status=None
2025-07-17 15:51:56.864 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:51:56.8645762+05:30"
2025-07-17 15:51:56.865 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:51:56.865 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:51:56.866 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:51:56.866 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:51:56.866 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:51:56.866 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:51:56.866 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:51:56.866 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:51:56.866 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:51:56.869 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:51:56.869 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:51:56.869 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:51:56.869 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:51:56.869 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:51:56.869 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:51:56.869 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:51:56.869 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:52:07.522 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:13:10.8105544 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:add9bddd-adc0-4bb0-b036-40cb354f1792
Error Number:4060,State:1,Class:11
2025-07-17 15:52:07.523 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:add9bddd-adc0-4bb0-b036-40cb354f1792
Error Number:4060,State:1,Class:11
2025-07-17 15:52:07.523 +05:30 [DBG] Execution loop BackgroundServerProcess:87bee2bd will be retried in 00:00:15...
2025-07-17 15:52:50.206 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-17 15:52:50.709 +05:30 [DBG] The property 'RiskParameters.StrategyConfigId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-17 15:52:50.731 +05:30 [WRN] No store type was specified for the decimal property 'HedgePercentage' on entity type 'HedgeConfiguration'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'HedgeRatio' on entity type 'HedgeConfiguration'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'AllocatedMargin' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'EntryLimitPrice' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'ExitAndReenterProfitAmount' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'ExitAndReenterProfitPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'HedgePremiumPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'HedgeRatio' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'LockProfitAmount' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'LockProfitPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MaxDailyLoss' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MaxPositionSize' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MoveStopLossToEntryPriceAmount' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MoveStopLossToEntryPricePercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'OverallPositionStopLoss' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'StopLossPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TakeProfitPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TargetPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TrailStopLossAmount' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TrailStopLossPercentage' on entity type 'NiftyOptionStrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'LockedProfitLevel' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MaxLoss' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MaxProfit' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'PnLPercentage' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'StopLossPrice' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TargetPrice' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TrailingStopLoss' on entity type 'OptionsTradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'LimitPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TriggerPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'ActionAmount' on entity type 'RiskManagementRule'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'ActionPercentage' on entity type 'RiskManagementRule'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TriggerAmount' on entity type 'RiskManagementRule'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'TriggerPercentage' on entity type 'RiskManagementRule'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MaxExposure' on entity type 'RiskParameters'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MaxLoss' on entity type 'RiskParameters'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MaxProfit' on entity type 'RiskParameters'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ScreenerCriteria'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ScreenerCriteria'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'AllocatedCapital' on entity type 'StrategyConfig'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'AveragePrice' on entity type 'TradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'PnL' on entity type 'TradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'Realised' on entity type 'TradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.732 +05:30 [WRN] No store type was specified for the decimal property 'Unrealised' on entity type 'TradePosition'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-17 15:52:50.780 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:52:50.890 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:52:50.912 +05:30 [DBG] Created DbConnection. (19ms).
2025-07-17 15:52:50.914 +05:30 [DBG] Migrating using database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:50.918 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:51.062 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:51.066 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-17 15:52:51.069 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-17 15:52:51.070 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-07-17 15:52:51.074 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-17 15:52:51.090 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-17 15:52:51.091 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:51.096 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (2ms).
2025-07-17 15:52:51.096 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:51.097 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:51.097 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-17 15:52:51.098 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-17 15:52:51.098 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:52:51.098 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:52:51.099 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-17 15:52:51.107 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-17 15:52:51.140 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-17 15:52:51.142 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-17 15:52:51.143 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-17 15:52:51.143 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-17 15:52:51.143 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-17 15:52:51.143 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-17 15:52:51.145 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-17 15:52:51.145 +05:30 [DBG] Committing transaction.
2025-07-17 15:52:51.147 +05:30 [DBG] Committed transaction.
2025-07-17 15:52:51.148 +05:30 [DBG] Disposing transaction.
2025-07-17 15:52:51.149 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-17 15:52:51.149 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-17 15:52:51.150 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-17 15:52:51.150 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-17 15:52:51.150 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-17 15:52:51.150 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-17 15:52:51.150 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-17 15:52:51.150 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-17 15:52:51.150 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:52:51.150 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:52:51.150 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-17 15:52:51.151 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-17 15:52:51.152 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:52:51.152 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:52:51.152 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:52:51.152 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-17 15:52:51.153 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-17 15:52:51.155 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:51.155 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 1ms reading results.
2025-07-17 15:52:51.158 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-07-17 15:52:51.158 +05:30 [DBG] Committing transaction.
2025-07-17 15:52:51.158 +05:30 [DBG] Committed transaction.
2025-07-17 15:52:51.158 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-17 15:52:51.158 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:52:51.158 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-17 15:52:51.158 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-17 15:52:51.160 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-17 15:52:51.160 +05:30 [DBG] Disposing transaction.
2025-07-17 15:52:51.160 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:51.160 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:52:51.161 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:52:51.163 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:52:51.163 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:52:51.193 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-17 15:52:51.254 +05:30 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-07-17 15:52:51.273 +05:30 [DBG] Hosting starting
2025-07-17 15:52:51.304 +05:30 [DBG] Starting VirtualBucketsRingProvider on silo S127.0.0.1:11111:111752571/x0F86857E.
2025-07-17 15:52:51.317 +05:30 [INF] Silo starting with GC settings: ServerGC=true GCLatencyMode=Interactive
2025-07-17 15:52:51.318 +05:30 [WRN] A verbose logging level (Debug) is configured. This will impact performance. The recommended log level is Information.
2025-07-17 15:52:51.318 +05:30 [INF] -------------- Initializing silo on host E1791-NAVEEN MachineName E1791-NAVEEN at 127.0.0.1:11111, gen 111752571 --------------
2025-07-17 15:52:51.318 +05:30 [INF] Starting silo Silo_119b5
2025-07-17 15:52:51.445 +05:30 [DBG] Created ActivationTaskScheduler-1:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.catalog/127.0.0.1:11111@111752571@035e1f7900000000efece76200000000]
2025-07-17 15:52:51.457 +05:30 [DBG] Created ActivationTaskScheduler-2:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.dir.mem/127.0.0.1:11111@111752571@5b2008b900000000efece76200000000]
2025-07-17 15:52:51.457 +05:30 [DBG] Created ActivationTaskScheduler-3:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.dir.cache-validator/127.0.0.1:11111@111752571@95f59abd00000000efece76200000000]
2025-07-17 15:52:51.458 +05:30 [DBG] Processing silo add event for S127.0.0.1:11111:111752571
2025-07-17 15:52:51.459 +05:30 [DBG] S127.0.0.1:11111:111752571 is not my immediate successor.
2025-07-17 15:52:51.462 +05:30 [DBG] Silo S127.0.0.1:11111:111752571 added silo S127.0.0.1:11111:111752571
2025-07-17 15:52:51.479 +05:30 [DBG] Created ActivationTaskScheduler-4:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.load-publisher/127.0.0.1:11111@111752571@f4b42ed600000000efece76200000000]
2025-07-17 15:52:51.479 +05:30 [DBG] Created ActivationTaskScheduler-5:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.clustering/127.0.0.1:11111@111752571@77f9af2100000000efece76200000000]
2025-07-17 15:52:51.483 +05:30 [DBG] Created ActivationTaskScheduler-6:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.dir.client/127.0.0.1:11111@111752571@48daa28200000000efece76200000000]
2025-07-17 15:52:51.490 +05:30 [DBG] Created ActivationTaskScheduler-7:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.migrator/127.0.0.1:11111@111752571@e8f4d5ad00000000efece76200000000]
2025-07-17 15:52:51.491 +05:30 [INF] GrainBasedMembershipTable Activated.
2025-07-17 15:52:51.491 +05:30 [DBG] Created ActivationTaskScheduler-8:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.clustering.dev/127.0.0.1:11111@0@10377f2c000000009ce29bc900000000]
2025-07-17 15:52:51.493 +05:30 [DBG] Monitoring cluster membership updates
2025-07-17 15:52:51.496 +05:30 [INF] -------------- Started silo S127.0.0.1:11111:111752571, ConsistentHashCode F86857E --------------
2025-07-17 15:52:51.541 +05:30 [INF] Start installing Hangfire SQL objects...
2025-07-17 15:53:01.565 +05:30 [WRN] An exception occurred while trying to perform the migration. Retrying...
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 268
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 465
ClientConnectionId:e15e1dd8-3eb9-4289-b9bb-f704af0aaf0c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:01.578 +05:30 [WRN] An exception occurred while trying to perform the migration. Retrying...
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 268
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 465
ClientConnectionId:e15e1dd8-3eb9-4289-b9bb-f704af0aaf0c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:01.578 +05:30 [WRN] An exception occurred while trying to perform the migration.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 268
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 465
ClientConnectionId:e15e1dd8-3eb9-4289-b9bb-f704af0aaf0c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:01.579 +05:30 [WRN] Was unable to perform the Hangfire schema migration due to an exception. Ignore this message unless you've just installed or upgraded Hangfire.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 268
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 465
ClientConnectionId:e15e1dd8-3eb9-4289-b9bb-f704af0aaf0c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:01.580 +05:30 [ERR] Was unable to use the TryAutoDetectSchemaDependentOptions option due to an exception.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TResult](DbConnection dedicatedConnection, Func`3 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 279
   at Hangfire.SqlServer.SqlServerStorage.Initialize() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 495
ClientConnectionId:e15e1dd8-3eb9-4289-b9bb-f704af0aaf0c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:01.613 +05:30 [INF] ExpirySquareOffService started
2025-07-17 15:53:01.629 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:53:01.653 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:53:01.681 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:53:01.681 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:53:01.689 +05:30 [INF] Starting Orleans Silo.
2025-07-17 15:53:01.690 +05:30 [DBG] Created ActivationTaskScheduler-9:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.lifecycle/127.0.0.1:11111@111752571@f65d6c1900000000efece76200000000]
2025-07-17 15:53:01.692 +05:30 [DBG] Stage First (-2147483648): Orleans.Runtime.SiloOptionsLogger
2025-07-17 15:53:01.692 +05:30 [DBG] Stage 1999: ConnectionManager, SiloConnectionListener, GatewayConnectionListener
2025-07-17 15:53:01.692 +05:30 [DBG] Stage RuntimeInitialize (2000): Orleans.Runtime.InsideRuntimeClient, SiloStatusListenerManager, ClusterMembershipService, SiloConnectionMaintainer, Orleans.Runtime.Silo
2025-07-17 15:53:01.693 +05:30 [DBG] Stage 2001: MembershipAgent
2025-07-17 15:53:01.693 +05:30 [DBG] Stage RuntimeServices (4000): ActivationCollector, Orleans.Runtime.GrainDirectory.LocalGrainDirectory, ClusterManifestProvider, Orleans.Runtime.Silo
2025-07-17 15:53:01.693 +05:30 [DBG] Stage RuntimeGrainServices (8000): CachedGrainLocator, DeploymentLoadPublisher, MembershipTableManager, ClientDirectory, ClusterManifestProvider, HostedClient, ActivationMigrationManager, Orleans.Runtime.Silo
2025-07-17 15:53:01.693 +05:30 [DBG] Stage AfterRuntimeGrainServices (8100): MembershipAgent, SiloStatusListenerManager
2025-07-17 15:53:01.693 +05:30 [DBG] Stage ApplicationServices (10000): Orleans.Runtime.Versions.GrainVersionStore
2025-07-17 15:53:01.693 +05:30 [DBG] Stage BecomeActive (19999): ActivationWorkingSet, MembershipAgent, IncomingRequestMonitor, Orleans.Runtime.Silo
2025-07-17 15:53:01.693 +05:30 [DBG] Stage Active (20000): ClusterHealthMonitor, Orleans.Runtime.MembershipService.LocalSiloHealthMonitor, MembershipTableCleanupAgent, GatewayConnectionListener, Orleans.Runtime.Silo
2025-07-17 15:53:01.700 +05:30 [INF] Configuration Orleans.Configuration.ActivationCountBasedPlacementOptions: 
ChooseOutOf: 2

2025-07-17 15:53:01.701 +05:30 [INF] Configuration Orleans.Configuration.ClusterMembershipOptions: 
NumMissedTableIAmAliveLimit: 3
LivenessEnabled: True
ProbeTimeout: 00:00:05
TableRefreshTimeout: 00:01:00
DeathVoteExpirationTimeout: 00:02:00
IAmAliveTablePublishTimeout: 00:00:30
MaxJoinAttemptTime: 00:05:00
UseLivenessGossip: True
NumProbedSilos: 10
NumMissedProbesLimit: 3
NumVotesForDeathDeclaration: 2
DefunctSiloExpiration: 7.00:00:00
DefunctSiloCleanupPeriod: 01:00:00
LocalHealthDegradationMonitoringPeriod: 00:00:10
ExtendProbeTimeoutDuringDegradation: True
EnableIndirectProbes: True
EvictWhenMaxJoinAttemptTimeExceeded: True

2025-07-17 15:53:01.701 +05:30 [INF] Configuration Orleans.Configuration.ClusterOptions: 
ClusterId: default
ServiceId: default

2025-07-17 15:53:01.701 +05:30 [INF] Configuration Orleans.Configuration.ConnectionOptions: 
ProtocolVersion: Version1
ConnectionsPerEndpoint: 1
ConnectionRetryDelay: 00:00:01
OpenConnectionTimeout: 00:00:05

2025-07-17 15:53:01.701 +05:30 [INF] Configuration Orleans.Configuration.ConsistentRingOptions: 
NumVirtualBucketsConsistentRing: 30
UseVirtualBucketsConsistentRing: True

2025-07-17 15:53:01.701 +05:30 [INF] Configuration Orleans.Configuration.DevelopmentClusterMembershipOptions: 
PrimarySiloEndpoint: 127.0.0.1:11111

2025-07-17 15:53:01.701 +05:30 [INF] Configuration Orleans.Configuration.EndpointOptions: 
AdvertisedIPAddress: 127.0.0.1
SiloPort: 11111
GatewayPort: 30000
SiloListeningEndpoint: 
GatewayListeningEndpoint: 

2025-07-17 15:53:01.701 +05:30 [INF] Configuration Orleans.Configuration.GrainCollectionOptions: 
CollectionQuantum: 00:01:00
CollectionAge: 00:15:00
ActivationTimeout: 00:00:30
DeactivationTimeout: 00:00:30

2025-07-17 15:53:01.703 +05:30 [INF] Configuration Orleans.Configuration.GrainDirectoryOptions: 
CachingStrategy: Adaptive
CacheSize: 1000000
InitialCacheTTL: 00:00:30
MaximumCacheTTL: 00:04:00
CacheTTLExtensionFactor: 2
LazyDeregistrationDelay: 00:01:00

2025-07-17 15:53:01.703 +05:30 [INF] Configuration Orleans.Configuration.GrainVersioningOptions: 
DefaultCompatibilityStrategy: BackwardCompatible
DefaultVersionSelectorStrategy: AllCompatibleVersions

2025-07-17 15:53:01.703 +05:30 [INF] Configuration Orleans.Configuration.LoadSheddingOptions: 
LoadSheddingEnabled: False
CpuThreshold: 95
MemoryThreshold: 90

2025-07-17 15:53:01.703 +05:30 [INF] Configuration Orleans.Configuration.MemoryGrainStorageOptions-PubSubStore: 
NumStorageGrains: 10
InitStage: 10000
GrainStorageSerializer: Orleans.Storage.JsonGrainStorageSerializer

2025-07-17 15:53:01.703 +05:30 [INF] Configuration Orleans.Configuration.ResourceOptimizedPlacementOptions: 
CpuUsageWeight: 40
MemoryUsageWeight: 20
AvailableMemoryWeight: 20
MaxAvailableMemoryWeight: 5
ActivationCountWeight: 15
LocalSiloPreferenceMargin: 5

2025-07-17 15:53:01.703 +05:30 [INF] Configuration Orleans.Configuration.SchedulingOptions: 
DelayWarningThreshold: 00:00:10
ActivationSchedulingQuantum: 00:00:00.1000000
TurnWarningLengthThreshold: 00:00:01
MaxPendingWorkItemsSoftLimit: 0
StoppedActivationWarningInterval: 00:01:00

2025-07-17 15:53:01.704 +05:30 [INF] Configuration Orleans.Configuration.SiloMessagingOptions: 
SiloSenderQueues: 0
GatewaySenderQueues: 0
MaxForwardCount: 2
ClientDropTimeout: 00:01:00
ClientRegistrationRefresh: 00:05:00
ClientGatewayShutdownNotificationTimeout: 00:00:05
MaxEnqueuedRequestsSoftLimit: 0
MaxEnqueuedRequestsHardLimit: 0
MaxEnqueuedRequestsSoftLimit_StatelessWorker: 0
MaxEnqueuedRequestsHardLimit_StatelessWorker: 0
MaxRequestProcessingTime: 02:00:00
AssumeHomogenousSilosForTesting: False
ShutdownRerouteTimeout: 00:00:10
SystemResponseTimeout: 00:00:30
GrainWorkloadAnalysisPeriod: 00:00:05
RequestProcessingWarningTime: 00:00:05
RequestQueueDelayWarningTime: 00:00:10
WaitForMessageToBeQueuedForOutboundTime: 00:00:02
ResponseTimeout: 00:00:30
ResponseTimeoutWithDebugger: 00:30:00
DropExpiredMessages: True
MaxMessageHeaderSize: 10485760
MaxMessageBodySize: 104857600

2025-07-17 15:53:01.704 +05:30 [INF] Configuration Orleans.Configuration.SiloOptions: 
SiloName: Silo_119b5

2025-07-17 15:53:01.704 +05:30 [DBG] 'Orleans.Runtime.SiloOptionsLogger' started in stage 'First (-2147483648)' in '"00:00:00.0093132"'.
2025-07-17 15:53:01.705 +05:30 [DBG] Starting lifecycle stage 'First (-2147483648)' took '"00:00:00.0104153"'
2025-07-17 15:53:01.705 +05:30 [DBG] 'ConnectionManager' started in stage '1999' in '"00:00:00.0000232"'.
2025-07-17 15:53:01.707 +05:30 [DBG] 'GatewayConnectionListener' started in stage '1999' in '"00:00:00.0022448"'.
2025-07-17 15:53:01.708 +05:30 [DBG] 'SiloConnectionListener' started in stage '1999' in '"00:00:00.0031386"'.
2025-07-17 15:53:01.708 +05:30 [DBG] Starting lifecycle stage '1999' took '"00:00:00.0036282"'
2025-07-17 15:53:01.709 +05:30 [INF] Start InsideRuntimeClient took 0.022 milliseconds
2025-07-17 15:53:01.710 +05:30 [DBG] 'Orleans.Runtime.InsideRuntimeClient' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0016593"'.
2025-07-17 15:53:01.710 +05:30 [DBG] 'SiloStatusListenerManager' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0000731"'.
2025-07-17 15:53:01.710 +05:30 [DBG] 'ClusterMembershipService' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0000723"'.
2025-07-17 15:53:01.711 +05:30 [DBG] 'SiloConnectionMaintainer' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0000769"'.
2025-07-17 15:53:01.711 +05:30 [INF] Silo Start()
2025-07-17 15:53:01.711 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'RuntimeInitialize (2000)' in '"00:00:00.0005782"'.
2025-07-17 15:53:01.711 +05:30 [DBG] Starting lifecycle stage 'RuntimeInitialize (2000)' took '"00:00:00.0028014"'
2025-07-17 15:53:01.711 +05:30 [DBG] Starting to process membership updates
2025-07-17 15:53:01.711 +05:30 [DBG] 'MembershipAgent' started in stage '2001' in '"00:00:00.0000427"'.
2025-07-17 15:53:01.712 +05:30 [DBG] Starting lifecycle stage '2001' took '"00:00:00.0001917"'
2025-07-17 15:53:01.713 +05:30 [DBG] 'ActivationCollector' started in stage 'RuntimeServices (4000)' in '"00:00:00.0009989"'.
2025-07-17 15:53:01.713 +05:30 [DBG] Start
2025-07-17 15:53:01.713 +05:30 [DBG] Created ActivationTaskScheduler-10:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.manifest/127.0.0.1:11111@111752571@f718d9af00000000efece76200000000]
2025-07-17 15:53:01.713 +05:30 [DBG] 'ClusterManifestProvider' started in stage 'RuntimeServices (4000)' in '"00:00:00.0005424"'.
2025-07-17 15:53:01.714 +05:30 [DBG] 'Orleans.Runtime.GrainDirectory.LocalGrainDirectory' started in stage 'RuntimeServices (4000)' in '"00:00:00.0008895"'.
2025-07-17 15:53:01.715 +05:30 [DBG] Created ActivationTaskScheduler-11:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.silo-control/127.0.0.1:11111@111752571@1b564fb600000000efece76200000000]
2025-07-17 15:53:01.715 +05:30 [DBG] Created ActivationTaskScheduler-12:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.fallback/127.0.0.1:11111@111752571@79c1494700000000efece76200000000]
2025-07-17 15:53:01.715 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'RuntimeServices (4000)' in '"00:00:00.0020572"'.
2025-07-17 15:53:01.716 +05:30 [DBG] Starting lifecycle stage 'RuntimeServices (4000)' took '"00:00:00.0039571"'
2025-07-17 15:53:01.717 +05:30 [DBG] 'CachedGrainLocator' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0016478"'.
2025-07-17 15:53:01.718 +05:30 [DBG] Starting DeploymentLoadPublisher
2025-07-17 15:53:01.721 +05:30 [DBG] 'ClientDirectory' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0000988"'.
2025-07-17 15:53:01.722 +05:30 [DBG] 'ClusterManifestProvider' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0000487"'.
2025-07-17 15:53:01.722 +05:30 [DBG] 'HostedClient' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0001158"'.
2025-07-17 15:53:01.723 +05:30 [INF] MembershipOracle starting on host E1791-NAVEEN with SiloAddress S127.0.0.1:11111:111752571 at 2025-07-17 10:22:51.289 GMT
2025-07-17 15:53:01.723 +05:30 [DBG] Starting to process membership updates
2025-07-17 15:53:01.725 +05:30 [INF] Init grain services took 1 milliseconds to finish
2025-07-17 15:53:01.725 +05:30 [INF] Creating in-memory membership table
2025-07-17 15:53:01.725 +05:30 [DBG] Starting silo watchdog
2025-07-17 15:53:01.726 +05:30 [DBG] Started DeploymentLoadPublisher
2025-07-17 15:53:01.726 +05:30 [DBG] 'DeploymentLoadPublisher' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0084229"'.
2025-07-17 15:53:01.726 +05:30 [DBG] 'ActivationMigrationManager' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0041483"'.
2025-07-17 15:53:01.726 +05:30 [INF] GrainBasedMembershipTable Activated.
2025-07-17 15:53:01.726 +05:30 [DBG] Created ActivationTaskScheduler-13:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.clustering.dev/127.0.0.1:11111@0@10377f2c000000009ce29bc900000000]
2025-07-17 15:53:01.726 +05:30 [DBG] Silo watchdog started successfully.
2025-07-17 15:53:01.726 +05:30 [DBG] Silo.Start complete: System status = Starting
2025-07-17 15:53:01.726 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0045029"'.
2025-07-17 15:53:01.726 +05:30 [DBG] Created ActivationTaskScheduler-14:Queued=0 with GrainContext=[SystemTarget: S127.0.0.1:11111:111752571/sys.svc.clustering.dev/127.0.0.1:11111@0@10377f2c000000009ce29bc900000000]
2025-07-17 15:53:01.749 +05:30 [INF] Connected to membership table provider.
2025-07-17 15:53:01.753 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 0 silos, 0 are Active, 0 are Dead, Version=<0, 0>. All silos: []
2025-07-17 15:53:01.756 +05:30 [DBG] 'MembershipTableManager' started in stage 'RuntimeGrainServices (8000)' in '"00:00:00.0357449"'.
2025-07-17 15:53:01.757 +05:30 [DBG] Starting lifecycle stage 'RuntimeGrainServices (8000)' took '"00:00:00.0409324"'
2025-07-17 15:53:01.757 +05:30 [DBG] Starting periodic membership table refreshes
2025-07-17 15:53:01.757 +05:30 [DBG] 'SiloStatusListenerManager' started in stage 'AfterRuntimeGrainServices (8100)' in '"00:00:00.0000408"'.
2025-07-17 15:53:01.758 +05:30 [INF] Joining
2025-07-17 15:53:01.758 +05:30 [DBG] Starting to process membership updates.
2025-07-17 15:53:01.759 +05:30 [DBG] Going to try to TryUpdateMyStatusGlobalOnce #0
2025-07-17 15:53:01.761 +05:30 [DBG] TryUpdateMyStatusGlobalOnce: Read my entry from Membership table 0 silos, 0 are Active, 0 are Dead, Version=<0, 0>. All silos: []
2025-07-17 15:53:01.763 +05:30 [DBG] InsertRow entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Joining, table version = <1, 0>
2025-07-17 15:53:01.765 +05:30 [DBG] ProcessTableUpdate (called from TryUpdateMyStatusGlobalOnce) membership table 1 silos, 0 are Active, 0 are Dead, 1 are Joining, Version=<1, 0>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Joining]
2025-07-17 15:53:01.766 +05:30 [DBG] ProcessTableUpdate (called from TryUpdateMyStatusGlobalOnce) membership table: 1 silos, 0 are Active, 0 are Dead, 1 are Joining, Version=<1, 0>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Joining]
2025-07-17 15:53:01.766 +05:30 [DBG] Silo S127.0.0.1:11111:111752571 Successfully updated my Status in the membership table to "Joining"
2025-07-17 15:53:01.768 +05:30 [DBG] 'MembershipAgent' started in stage 'AfterRuntimeGrainServices (8100)' in '"00:00:00.0113087"'.
2025-07-17 15:53:01.768 +05:30 [DBG] Starting lifecycle stage 'AfterRuntimeGrainServices (8100)' took '"00:00:00.0114440"'
2025-07-17 15:53:01.768 +05:30 [DBG] 'Orleans.Runtime.Versions.GrainVersionStore' started in stage 'ApplicationServices (10000)' in '"00:00:00.0000606"'.
2025-07-17 15:53:01.768 +05:30 [DBG] Starting lifecycle stage 'ApplicationServices (10000)' took '"00:00:00.0001217"'
2025-07-17 15:53:01.768 +05:30 [DBG] 'ActivationWorkingSet' started in stage 'BecomeActive (19999)' in '"00:00:00.0000774"'.
2025-07-17 15:53:01.769 +05:30 [DBG] 'IncomingRequestMonitor' started in stage 'BecomeActive (19999)' in '"00:00:00.0000674"'.
2025-07-17 15:53:01.769 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'BecomeActive (19999)' in '"00:00:00.0001420"'.
2025-07-17 15:53:01.769 +05:30 [INF] -BecomeActive
2025-07-17 15:53:01.771 +05:30 [DBG] Going to try to TryUpdateMyStatusGlobalOnce #0
2025-07-17 15:53:01.772 +05:30 [DBG] TryUpdateMyStatusGlobalOnce: ReadAll Membership table 1 silos, 0 are Active, 0 are Dead, 1 are Joining, Version=<1, 2>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Joining]
2025-07-17 15:53:01.773 +05:30 [DBG] UpdateRow entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active, etag = 1, table version = <2, 2>
2025-07-17 15:53:01.773 +05:30 [DBG] ProcessTableUpdate (called from TryUpdateMyStatusGlobalOnce) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 2>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:53:01.773 +05:30 [DBG] ProcessTableUpdate (called from TryUpdateMyStatusGlobalOnce) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 2>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:53:01.773 +05:30 [DBG] Silo S127.0.0.1:11111:111752571 Successfully updated my Status in the membership table to "Active"
2025-07-17 15:53:01.773 +05:30 [INF] -Finished BecomeActive.
2025-07-17 15:53:01.774 +05:30 [DBG] 'MembershipAgent' started in stage 'BecomeActive (19999)' in '"00:00:00.0053802"'.
2025-07-17 15:53:01.774 +05:30 [DBG] Starting lifecycle stage 'BecomeActive (19999)' took '"00:00:00.0055723"'
2025-07-17 15:53:01.774 +05:30 [DBG] 'ClusterHealthMonitor' started in stage 'Active (20000)' in '"00:00:00.0000637"'.
2025-07-17 15:53:01.774 +05:30 [DBG] 'Orleans.Runtime.MembershipService.LocalSiloHealthMonitor' started in stage 'Active (20000)' in '"00:00:00.0000579"'.
2025-07-17 15:53:01.774 +05:30 [DBG] 'MembershipTableCleanupAgent' started in stage 'Active (20000)' in '"00:00:00.0000417"'.
2025-07-17 15:53:01.774 +05:30 [DBG] 'GatewayConnectionListener' started in stage 'Active (20000)' in '"00:00:00.0001795"'.
2025-07-17 15:53:01.775 +05:30 [DBG] 'Orleans.Runtime.Silo' started in stage 'Active (20000)' in '"00:00:00.0006686"'.
2025-07-17 15:53:01.775 +05:30 [DBG] Starting lifecycle stage 'Active (20000)' took '"00:00:00.0011380"'
2025-07-17 15:53:01.775 +05:30 [DBG] Starting periodic membership liveness timestamp updates
2025-07-17 15:53:01.775 +05:30 [DBG] Starting membership table cleanup agent
2025-07-17 15:53:01.775 +05:30 [DBG] Starting to process membership updates
2025-07-17 15:53:01.776 +05:30 [INF] Orleans Silo started.
2025-07-17 15:53:01.778 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:53:01.7784103+05:30"
2025-07-17 15:53:01.803 +05:30 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-17 15:53:01.803 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-17 15:53:01.858 +05:30 [INF] Now listening on: https://localhost:56412
2025-07-17 15:53:01.858 +05:30 [INF] Now listening on: http://localhost:56413
2025-07-17 15:53:01.858 +05:30 [DBG] Loaded hosting startup assembly KiteConnectApi
2025-07-17 15:53:01.861 +05:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: (localdb)\mssqllocaldb@HangfireDB'
2025-07-17 15:53:01.861 +05:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-07-17 15:53:01.861 +05:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 15:53:01.866 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e has started in 2.1007 ms
2025-07-17 15:53:01.868 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 15:53:01.868 +05:30 [INF] Hosting environment: Development
2025-07-17 15:53:01.868 +05:30 [INF] Content root path: C:\Users\E1791\KiteApp\Kite
2025-07-17 15:53:01.869 +05:30 [DBG] Hosting started
2025-07-17 15:53:01.900 +05:30 [ERR] Execution BackgroundServerProcess is in the Failed state now due to an exception, execution will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:e15e1dd8-3eb9-4289-b9bb-f704af0aaf0c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:01.901 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:e15e1dd8-3eb9-4289-b9bb-f704af0aaf0c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:01.902 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:53:26.918 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:00:25.0164667 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6963ef43-219d-46b0-83ea-45a5f5a17308
Error Number:4060,State:1,Class:11
2025-07-17 15:53:26.919 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:6963ef43-219d-46b0-83ea-45a5f5a17308
Error Number:4060,State:1,Class:11
2025-07-17 15:53:26.919 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:53:31.779 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
2025-07-17 15:53:51.426 +05:30 [DBG] Before collection #1: memory: 16MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:53:51.427 +05:30 [DBG] After collection #1 memory: 16MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0049048"
2025-07-17 15:53:51.959 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:00:50.0579157 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66a6e6dc-0cb7-4d08-bb5f-ea53b66dcb5c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:51.960 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66a6e6dc-0cb7-4d08-bb5f-ea53b66dcb5c
Error Number:4060,State:1,Class:11
2025-07-17 15:53:51.961 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:53:53.619 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:53:53.620 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:54:01.719 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:54:01.720 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:54:01.721 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:54:01.721 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:54:01.781 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
2025-07-17 15:54:01.781 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:54:01.7817474+05:30"
2025-07-17 15:54:01.782 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:54:01.7815778+05:30"
2025-07-17 15:54:01.785 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:54:01.786 +05:30 [DBG] Compiling query expression: 
'DbSet<NiftyOptionStrategyConfig>()'
2025-07-17 15:54:01.864 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NiftyOptionStrategyConfig>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: NiftyOptionStrategyConfig.Id (string) Required PK AfterSave:Throw, 0], [Property: NiftyOptionStrategyConfig.AllocatedMargin (decimal) Required, 1], [Property: NiftyOptionStrategyConfig.AllowMultipleSignals (bool) Required, 2], [Property: NiftyOptionStrategyConfig.AllowedSignals (string), 3], [Property: NiftyOptionStrategyConfig.AutoSquareOffOnExpiry (bool) Required, 4], [Property: NiftyOptionStrategyConfig.CreatedBy (string), 5], [Property: NiftyOptionStrategyConfig.CreatedTime (DateTime) Required, 6], [Property: NiftyOptionStrategyConfig.EntryLimitPrice (decimal?), 7], [Property: NiftyOptionStrategyConfig.EntryOrderType (string), 8], [Property: NiftyOptionStrategyConfig.EntryTime (int) Required, 9], [Property: NiftyOptionStrategyConfig.Exchange (string), 10], [Property: NiftyOptionStrategyConfig.ExecutionMode (string), 11], [Property: NiftyOptionStrategyConfig.ExitAndReenterProfitAmount (decimal) Required, 12], [Property: NiftyOptionStrategyConfig.ExitAndReenterProfitPercentage (decimal) Required, 13], [Property: NiftyOptionStrategyConfig.ExitTime (int) Required, 14], [Property: NiftyOptionStrategyConfig.ExpirySquareOffTimeMinutes (int) Required, 15], [Property: NiftyOptionStrategyConfig.FromDate (DateTime) Required, 16], [Property: NiftyOptionStrategyConfig.HedgeDistancePoints (int) Required, 17], [Property: NiftyOptionStrategyConfig.HedgeEnabled (bool) Required, 18], [Property: NiftyOptionStrategyConfig.HedgePremiumPercentage (decimal) Required, 19], [Property: NiftyOptionStrategyConfig.HedgeRatio (decimal) Required, 20], [Property: NiftyOptionStrategyConfig.HedgeType (string) Required, 21], [Property: NiftyOptionStrategyConfig.InstrumentPrefix (string), 22], [Property: NiftyOptionStrategyConfig.IsDeleted (bool) Required, 23], [Property: NiftyOptionStrategyConfig.IsEnabled (bool) Required, 24], [Property: NiftyOptionStrategyConfig.LastExitReentryTime (DateTime?), 25], [Property: NiftyOptionStrategyConfig.LastUpdated (DateTime) Required, 26], [Property: NiftyOptionStrategyConfig.LastUpdatedBy (string), 27], [Property: NiftyOptionStrategyConfig.LockProfitAmount (decimal) Required, 28], [Property: NiftyOptionStrategyConfig.LockProfitPercentage (decimal) Required, 29], [Property: NiftyOptionStrategyConfig.ManualExecutionTimeoutMinutes (int) Required, 30], [Property: NiftyOptionStrategyConfig.MaxDailyLoss (decimal) Required, 31], [Property: NiftyOptionStrategyConfig.MaxPositionSize (decimal) Required, 32], [Property: NiftyOptionStrategyConfig.MaxTradesPerDay (int) Required, 33], [Property: NiftyOptionStrategyConfig.MinReentryDelayMinutes (int) Required, 34], [Property: NiftyOptionStrategyConfig.MoveStopLossToEntryPriceAmount (decimal) Required, 35], [Property: NiftyOptionStrategyConfig.MoveStopLossToEntryPricePercentage (decimal) Required, 36], [Property: NiftyOptionStrategyConfig.Notes (string), 37], [Property: NiftyOptionStrategyConfig.NotifyOnEntry (bool) Required, 38], [Property: NiftyOptionStrategyConfig.NotifyOnExit (bool) Required, 39], [Property: NiftyOptionStrategyConfig.NotifyOnProfit (bool) Required, 40], [Property: NiftyOptionStrategyConfig.NotifyOnStopLoss (bool) Required, 41], [Property: NiftyOptionStrategyConfig.OrderType (string), 42], [Property: NiftyOptionStrategyConfig.OverallPositionStopLoss (decimal) Required, 43], [Property: NiftyOptionStrategyConfig.ProductType (string), 44], [Property: NiftyOptionStrategyConfig.Quantity (int) Required, 45], [Property: NiftyOptionStrategyConfig.StopLossPercentage (decimal) Required, 46], [Property: NiftyOptionStrategyConfig.StrategyName (string), 47], [Property: NiftyOptionStrategyConfig.TakeProfitPercentage (decimal) Required, 48], [Property: NiftyOptionStrategyConfig.TargetPercentage (decimal) Required, 49], [Property: NiftyOptionStrategyConfig.ToDate (DateTime) Required, 50], [Property: NiftyOptionStrategyConfig.TrailStopLossAmount (decimal) Required, 51], [Property: NiftyOptionStrategyConfig.TrailStopLossPercentage (decimal) Required, 52], [Property: NiftyOptionStrategyConfig.UnderlyingInstrument (string), 53], [Property: NiftyOptionStrategyConfig.UseDynamicQuantity (bool) Required, 54], [Property: NiftyOptionStrategyConfig.UseNearestWeeklyExpiry (bool) Required, 55], [Property: NiftyOptionStrategyConfig.UseOrderProtection (bool) Required, 56] }
        SELECT n.Id, n.AllocatedMargin, n.AllowMultipleSignals, n.AllowedSignals, n.AutoSquareOffOnExpiry, n.CreatedBy, n.CreatedTime, n.EntryLimitPrice, n.EntryOrderType, n.EntryTime, n.Exchange, n.ExecutionMode, n.ExitAndReenterProfitAmount, n.ExitAndReenterProfitPercentage, n.ExitTime, n.ExpirySquareOffTimeMinutes, n.FromDate, n.HedgeDistancePoints, n.HedgeEnabled, n.HedgePremiumPercentage, n.HedgeRatio, n.HedgeType, n.InstrumentPrefix, n.IsDeleted, n.IsEnabled, n.LastExitReentryTime, n.LastUpdated, n.LastUpdatedBy, n.LockProfitAmount, n.LockProfitPercentage, n.ManualExecutionTimeoutMinutes, n.MaxDailyLoss, n.MaxPositionSize, n.MaxTradesPerDay, n.MinReentryDelayMinutes, n.MoveStopLossToEntryPriceAmount, n.MoveStopLossToEntryPricePercentage, n.Notes, n.NotifyOnEntry, n.NotifyOnExit, n.NotifyOnProfit, n.NotifyOnStopLoss, n.OrderType, n.OverallPositionStopLoss, n.ProductType, n.Quantity, n.StopLossPercentage, n.StrategyName, n.TakeProfitPercentage, n.TargetPercentage, n.ToDate, n.TrailStopLossAmount, n.TrailStopLossPercentage, n.UnderlyingInstrument, n.UseDynamicQuantity, n.UseNearestWeeklyExpiry, n.UseOrderProtection
        FROM NiftyOptionStrategyConfigs AS n) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: NiftyOptionStrategyConfig.Id (string) Required PK AfterSave:Throw, 0], [Property: NiftyOptionStrategyConfig.AllocatedMargin (decimal) Required, 1], [Property: NiftyOptionStrategyConfig.AllowMultipleSignals (bool) Required, 2], [Property: NiftyOptionStrategyConfig.AllowedSignals (string), 3], [Property: NiftyOptionStrategyConfig.AutoSquareOffOnExpiry (bool) Required, 4], [Property: NiftyOptionStrategyConfig.CreatedBy (string), 5], [Property: NiftyOptionStrategyConfig.CreatedTime (DateTime) Required, 6], [Property: NiftyOptionStrategyConfig.EntryLimitPrice (decimal?), 7], [Property: NiftyOptionStrategyConfig.EntryOrderType (string), 8], [Property: NiftyOptionStrategyConfig.EntryTime (int) Required, 9], [Property: NiftyOptionStrategyConfig.Exchange (string), 10], [Property: NiftyOptionStrategyConfig.ExecutionMode (string), 11], [Property: NiftyOptionStrategyConfig.ExitAndReenterProfitAmount (decimal) Required, 12], [Property: NiftyOptionStrategyConfig.ExitAndReenterProfitPercentage (decimal) Required, 13], [Property: NiftyOptionStrategyConfig.ExitTime (int) Required, 14], [Property: NiftyOptionStrategyConfig.ExpirySquareOffTimeMinutes (int) Required, 15], [Property: NiftyOptionStrategyConfig.FromDate (DateTime) Required, 16], [Property: NiftyOptionStrategyConfig.HedgeDistancePoints (int) Required, 17], [Property: NiftyOptionStrategyConfig.HedgeEnabled (bool) Required, 18], [Property: NiftyOptionStrategyConfig.HedgePremiumPercentage (decimal) Required, 19], [Property: NiftyOptionStrategyConfig.HedgeRatio (decimal) Required, 20], [Property: NiftyOptionStrategyConfig.HedgeType (string) Required, 21], [Property: NiftyOptionStrategyConfig.InstrumentPrefix (string), 22], [Property: NiftyOptionStrategyConfig.IsDeleted (bool) Required, 23], [Property: NiftyOptionStrategyConfig.IsEnabled (bool) Required, 24], [Property: NiftyOptionStrategyConfig.LastExitReentryTime (DateTime?), 25], [Property: NiftyOptionStrategyConfig.LastUpdated (DateTime) Required, 26], [Property: NiftyOptionStrategyConfig.LastUpdatedBy (string), 27], [Property: NiftyOptionStrategyConfig.LockProfitAmount (decimal) Required, 28], [Property: NiftyOptionStrategyConfig.LockProfitPercentage (decimal) Required, 29], [Property: NiftyOptionStrategyConfig.ManualExecutionTimeoutMinutes (int) Required, 30], [Property: NiftyOptionStrategyConfig.MaxDailyLoss (decimal) Required, 31], [Property: NiftyOptionStrategyConfig.MaxPositionSize (decimal) Required, 32], [Property: NiftyOptionStrategyConfig.MaxTradesPerDay (int) Required, 33], [Property: NiftyOptionStrategyConfig.MinReentryDelayMinutes (int) Required, 34], [Property: NiftyOptionStrategyConfig.MoveStopLossToEntryPriceAmount (decimal) Required, 35], [Property: NiftyOptionStrategyConfig.MoveStopLossToEntryPricePercentage (decimal) Required, 36], [Property: NiftyOptionStrategyConfig.Notes (string), 37], [Property: NiftyOptionStrategyConfig.NotifyOnEntry (bool) Required, 38], [Property: NiftyOptionStrategyConfig.NotifyOnExit (bool) Required, 39], [Property: NiftyOptionStrategyConfig.NotifyOnProfit (bool) Required, 40], [Property: NiftyOptionStrategyConfig.NotifyOnStopLoss (bool) Required, 41], [Property: NiftyOptionStrategyConfig.OrderType (string), 42], [Property: NiftyOptionStrategyConfig.OverallPositionStopLoss (decimal) Required, 43], [Property: NiftyOptionStrategyConfig.ProductType (string), 44], [Property: NiftyOptionStrategyConfig.Quantity (int) Required, 45], [Property: NiftyOptionStrategyConfig.StopLossPercentage (decimal) Required, 46], [Property: NiftyOptionStrategyConfig.StrategyName (string), 47], [Property: NiftyOptionStrategyConfig.TakeProfitPercentage (decimal) Required, 48], [Property: NiftyOptionStrategyConfig.TargetPercentage (decimal) Required, 49], [Property: NiftyOptionStrategyConfig.ToDate (DateTime) Required, 50], [Property: NiftyOptionStrategyConfig.TrailStopLossAmount (decimal) Required, 51], [Property: NiftyOptionStrategyConfig.TrailStopLossPercentage (decimal) Required, 52], [Property: NiftyOptionStrategyConfig.UnderlyingInstrument (string), 53], [Property: NiftyOptionStrategyConfig.UseDynamicQuantity (bool) Required, 54], [Property: NiftyOptionStrategyConfig.UseNearestWeeklyExpiry (bool) Required, 55], [Property: NiftyOptionStrategyConfig.UseOrderProtection (bool) Required, 56] }
        SELECT n.Id, n.AllocatedMargin, n.AllowMultipleSignals, n.AllowedSignals, n.AutoSquareOffOnExpiry, n.CreatedBy, n.CreatedTime, n.EntryLimitPrice, n.EntryOrderType, n.EntryTime, n.Exchange, n.ExecutionMode, n.ExitAndReenterProfitAmount, n.ExitAndReenterProfitPercentage, n.ExitTime, n.ExpirySquareOffTimeMinutes, n.FromDate, n.HedgeDistancePoints, n.HedgeEnabled, n.HedgePremiumPercentage, n.HedgeRatio, n.HedgeType, n.InstrumentPrefix, n.IsDeleted, n.IsEnabled, n.LastExitReentryTime, n.LastUpdated, n.LastUpdatedBy, n.LockProfitAmount, n.LockProfitPercentage, n.ManualExecutionTimeoutMinutes, n.MaxDailyLoss, n.MaxPositionSize, n.MaxTradesPerDay, n.MinReentryDelayMinutes, n.MoveStopLossToEntryPriceAmount, n.MoveStopLossToEntryPricePercentage, n.Notes, n.NotifyOnEntry, n.NotifyOnExit, n.NotifyOnProfit, n.NotifyOnStopLoss, n.OrderType, n.OverallPositionStopLoss, n.ProductType, n.Quantity, n.StopLossPercentage, n.StrategyName, n.TakeProfitPercentage, n.TargetPercentage, n.ToDate, n.TrailStopLossAmount, n.TrailStopLossPercentage, n.UnderlyingInstrument, n.UseDynamicQuantity, n.UseNearestWeeklyExpiry, n.UseOrderProtection
        FROM NiftyOptionStrategyConfigs AS n, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        NiftyOptionStrategyConfig entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            NiftyOptionStrategyConfig instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(NiftyOptionStrategyConfig);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: NiftyOptionStrategyConfig.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.NiftyOptionStrategyConfig").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (NiftyOptionStrategyConfig)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: NiftyOptionStrategyConfig | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.NiftyOptionStrategyConfig")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: NiftyOptionStrategyConfig | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.NiftyOptionStrategyConfig")]: 
                        {
                            return 
                            {
                                NiftyOptionStrategyConfig instance;
                                instance = new NiftyOptionStrategyConfig();
                                instance.<Id>k__BackingField = dataReader.GetString(0);
                                instance.<AllocatedMargin>k__BackingField = dataReader.GetDecimal(1);
                                instance.<AllowMultipleSignals>k__BackingField = dataReader.GetBoolean(2);
                                instance.<AllowedSignals>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<AutoSquareOffOnExpiry>k__BackingField = dataReader.GetBoolean(4);
                                instance.<CreatedBy>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<CreatedTime>k__BackingField = dataReader.GetDateTime(6);
                                instance.<EntryLimitPrice>k__BackingField = dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7);
                                instance.<EntryOrderType>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<EntryTime>k__BackingField = dataReader.GetInt32(9);
                                instance.<Exchange>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<ExecutionMode>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<ExitAndReenterProfitAmount>k__BackingField = dataReader.GetDecimal(12);
                                instance.<ExitAndReenterProfitPercentage>k__BackingField = dataReader.GetDecimal(13);
                                instance.<ExitTime>k__BackingField = dataReader.GetInt32(14);
                                instance.<ExpirySquareOffTimeMinutes>k__BackingField = dataReader.GetInt32(15);
                                instance.<FromDate>k__BackingField = dataReader.GetDateTime(16);
                                instance.<HedgeDistancePoints>k__BackingField = dataReader.GetInt32(17);
                                instance.<HedgeEnabled>k__BackingField = dataReader.GetBoolean(18);
                                instance.<HedgePremiumPercentage>k__BackingField = dataReader.GetDecimal(19);
                                instance.<HedgeRatio>k__BackingField = dataReader.GetDecimal(20);
                                instance.<HedgeType>k__BackingField = dataReader.GetString(21);
                                instance.<InstrumentPrefix>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(23);
                                instance.<IsEnabled>k__BackingField = dataReader.GetBoolean(24);
                                instance.<LastExitReentryTime>k__BackingField = dataReader.IsDBNull(25) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(25);
                                instance.<LastUpdated>k__BackingField = dataReader.GetDateTime(26);
                                instance.<LastUpdatedBy>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LockProfitAmount>k__BackingField = dataReader.GetDecimal(28);
                                instance.<LockProfitPercentage>k__BackingField = dataReader.GetDecimal(29);
                                instance.<ManualExecutionTimeoutMinutes>k__BackingField = dataReader.GetInt32(30);
                                instance.<MaxDailyLoss>k__BackingField = dataReader.GetDecimal(31);
                                instance.<MaxPositionSize>k__BackingField = dataReader.GetDecimal(32);
                                instance.<MaxTradesPerDay>k__BackingField = dataReader.GetInt32(33);
                                instance.<MinReentryDelayMinutes>k__BackingField = dataReader.GetInt32(34);
                                instance.<MoveStopLossToEntryPriceAmount>k__BackingField = dataReader.GetDecimal(35);
                                instance.<MoveStopLossToEntryPricePercentage>k__BackingField = dataReader.GetDecimal(36);
                                instance.<Notes>k__BackingField = dataReader.IsDBNull(37) ? default(string) : dataReader.GetString(37);
                                instance.<NotifyOnEntry>k__BackingField = dataReader.GetBoolean(38);
                                instance.<NotifyOnExit>k__BackingField = dataReader.GetBoolean(39);
                                instance.<NotifyOnProfit>k__BackingField = dataReader.GetBoolean(40);
                                instance.<NotifyOnStopLoss>k__BackingField = dataReader.GetBoolean(41);
                                instance.<OrderType>k__BackingField = dataReader.IsDBNull(42) ? default(string) : dataReader.GetString(42);
                                instance.<OverallPositionStopLoss>k__BackingField = dataReader.GetDecimal(43);
                                instance.<ProductType>k__BackingField = dataReader.IsDBNull(44) ? default(string) : dataReader.GetString(44);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(45);
                                instance.<StopLossPercentage>k__BackingField = dataReader.GetDecimal(46);
                                instance.<StrategyName>k__BackingField = dataReader.IsDBNull(47) ? default(string) : dataReader.GetString(47);
                                instance.<TakeProfitPercentage>k__BackingField = dataReader.GetDecimal(48);
                                instance.<TargetPercentage>k__BackingField = dataReader.GetDecimal(49);
                                instance.<ToDate>k__BackingField = dataReader.GetDateTime(50);
                                instance.<TrailStopLossAmount>k__BackingField = dataReader.GetDecimal(51);
                                instance.<TrailStopLossPercentage>k__BackingField = dataReader.GetDecimal(52);
                                instance.<UnderlyingInstrument>k__BackingField = dataReader.IsDBNull(53) ? default(string) : dataReader.GetString(53);
                                instance.<UseDynamicQuantity>k__BackingField = dataReader.GetBoolean(54);
                                instance.<UseNearestWeeklyExpiry>k__BackingField = dataReader.GetBoolean(55);
                                instance.<UseOrderProtection>k__BackingField = dataReader.GetBoolean(56);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: NiftyOptionStrategyConfig | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("KiteConnectApi.Models.Trading.NiftyOptionStrategyConfig")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(NiftyOptionStrategyConfig)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: KiteConnectApi.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-17 15:54:01.878 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:54:01.878 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:54:01.879 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:54:01.880 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:54:01.880 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:54:01.880 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:54:01.880 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:54:01.880 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:54:01.901 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:54:01.906 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:54:01.906 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 4ms reading results.
2025-07-17 15:54:01.906 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:54:01.907 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:54:01.907 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:54:01.907 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:54:01.907 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:54:06.972 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:01:05.0704773 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66a6e6dc-0cb7-4d08-bb5f-ea53b66dcb5c
Error Number:4060,State:1,Class:11
2025-07-17 15:54:06.972 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:66a6e6dc-0cb7-4d08-bb5f-ea53b66dcb5c
Error Number:4060,State:1,Class:11
2025-07-17 15:54:06.973 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:54:31.781 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
2025-07-17 15:54:32.015 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:01:30.1133011 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:a735f68c-bd87-4ac2-9262-d6cc8a54790c
Error Number:4060,State:1,Class:11
2025-07-17 15:54:32.015 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:a735f68c-bd87-4ac2-9262-d6cc8a54790c
Error Number:4060,State:1,Class:11
2025-07-17 15:54:32.015 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:54:47.017 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:01:45.1161308 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:a735f68c-bd87-4ac2-9262-d6cc8a54790c
Error Number:4060,State:1,Class:11
2025-07-17 15:54:47.018 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:a735f68c-bd87-4ac2-9262-d6cc8a54790c
Error Number:4060,State:1,Class:11
2025-07-17 15:54:47.018 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:54:51.423 +05:30 [DBG] Before collection #2: memory: 23MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:54:51.424 +05:30 [DBG] After collection #2 memory: 23MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0005839"
2025-07-17 15:54:53.628 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:54:53.628 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:55:01.722 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:55:01.722 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:55:01.723 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:55:01.723 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:55:01.786 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:55:01.7867127+05:30"
2025-07-17 15:55:01.787 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
2025-07-17 15:55:01.917 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:55:01.9174058+05:30"
2025-07-17 15:55:01.918 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:55:01.919 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:55:01.919 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:55:01.919 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:55:01.919 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:55:01.919 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:55:01.919 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:55:01.919 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:55:01.919 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:55:01.923 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:55:01.923 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:55:01.923 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:55:01.923 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:55:01.923 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:55:01.923 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:55:01.923 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:55:01.923 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:55:02.033 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:02:00.1315627 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:a735f68c-bd87-4ac2-9262-d6cc8a54790c
Error Number:4060,State:1,Class:11
2025-07-17 15:55:02.033 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:a735f68c-bd87-4ac2-9262-d6cc8a54790c
Error Number:4060,State:1,Class:11
2025-07-17 15:55:02.033 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:55:27.076 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:02:25.1749513 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4a6d717c-fa83-4798-bbd4-43153a8f9ea5
Error Number:4060,State:1,Class:11
2025-07-17 15:55:27.077 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4a6d717c-fa83-4798-bbd4-43153a8f9ea5
Error Number:4060,State:1,Class:11
2025-07-17 15:55:27.078 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:55:31.801 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
2025-07-17 15:55:42.089 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:02:40.1873059 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4a6d717c-fa83-4798-bbd4-43153a8f9ea5
Error Number:4060,State:1,Class:11
2025-07-17 15:55:42.089 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4a6d717c-fa83-4798-bbd4-43153a8f9ea5
Error Number:4060,State:1,Class:11
2025-07-17 15:55:42.090 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:55:51.428 +05:30 [DBG] Before collection #3: memory: 26MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:55:51.428 +05:30 [DBG] After collection #3 memory: 26MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0006917"
2025-07-17 15:55:53.649 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:55:53.649 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:55:57.102 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:02:55.2006861 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4a6d717c-fa83-4798-bbd4-43153a8f9ea5
Error Number:4060,State:1,Class:11
2025-07-17 15:55:57.102 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4a6d717c-fa83-4798-bbd4-43153a8f9ea5
Error Number:4060,State:1,Class:11
2025-07-17 15:55:57.102 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:56:01.739 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:56:01.740 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:56:01.740 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:56:01.740 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:56:01.805 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:56:01.8058503+05:30"
2025-07-17 15:56:01.806 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
2025-07-17 15:56:01.936 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:56:01.9359821+05:30"
2025-07-17 15:56:01.938 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:56:01.938 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:56:01.938 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:56:01.938 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:56:01.938 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:56:01.938 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:56:01.938 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:56:01.939 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:56:01.939 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:56:01.943 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:56:01.943 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:56:01.943 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:56:01.943 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:56:01.943 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:56:01.944 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:56:01.944 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:56:01.944 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:56:12.104 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:03:10.2023633 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4a6d717c-fa83-4798-bbd4-43153a8f9ea5
Error Number:4060,State:1,Class:11
2025-07-17 15:56:12.104 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4a6d717c-fa83-4798-bbd4-43153a8f9ea5
Error Number:4060,State:1,Class:11
2025-07-17 15:56:12.104 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:56:31.809 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
2025-07-17 15:56:37.138 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:03:35.2370108 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b4b29cbf-5ff5-4d11-8d1d-d1675381c030
Error Number:4060,State:1,Class:11
2025-07-17 15:56:37.139 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b4b29cbf-5ff5-4d11-8d1d-d1675381c030
Error Number:4060,State:1,Class:11
2025-07-17 15:56:37.139 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:56:51.433 +05:30 [DBG] Before collection #4: memory: 29MB, #activations: 0, collector: <#Activations=0, #Buckets=0, buckets=[]>
2025-07-17 15:56:51.433 +05:30 [DBG] After collection #4 memory: 29MB, #activations: 0, collected 0 activations, collector: <#Activations=0, #Buckets=0, buckets=[]>, collection time: "00:00:00.0002543"
2025-07-17 15:56:52.149 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:03:50.2477645 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b4b29cbf-5ff5-4d11-8d1d-d1675381c030
Error Number:4060,State:1,Class:11
2025-07-17 15:56:52.149 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b4b29cbf-5ff5-4d11-8d1d-d1675381c030
Error Number:4060,State:1,Class:11
2025-07-17 15:56:52.150 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:56:53.674 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:56:53.674 +05:30 [DBG] ProcessTableUpdate (called from Refresh) membership table: 1 silos, 1 are Active, 0 are Dead, Version=<2, 4>. All silos: [SiloAddress=S127.0.0.1:11111:111752571 SiloName=Silo_119b5 Status=Active]
2025-07-17 15:57:01.750 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:57:01.750 +05:30 [DBG] Compiling query expression: 
'DbSet<OptionsTradePosition>()
    .Where(p => p.Status == "OPEN" && p.ExpiryDate.Date == __today_0)
    .Include(p => p.MainPositionId != null ? DbSet<OptionsTradePosition>()
        .Where(h => h.Id == p.MainPositionId)
        .FirstOrDefault() : null)'
2025-07-17 15:57:01.751 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:57:01.751 +05:30 [ERR] Error in ExpirySquareOffService
System.InvalidOperationException: The expression 'IIF((p.MainPositionId != null), [Microsoft.EntityFrameworkCore.Query.EntityQueryRootExpression].Where(h => (h.Id == p.MainPositionId)).FirstOrDefault(), null)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|33_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KiteConnectApi.Services.ExpirySquareOffService.ProcessExpirySquareOffAsync() in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 61
   at KiteConnectApi.Services.ExpirySquareOffService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\E1791\KiteApp\Kite\Services\ExpirySquareOffService.cs:line 30
2025-07-17 15:57:01.806 +05:30 [INF] Order Monitoring Service running at: "2025-07-17T15:57:01.8068630+05:30"
2025-07-17 15:57:01.836 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
2025-07-17 15:57:01.953 +05:30 [INF] Trading Strategy Monitor running at: "2025-07-17T15:57:01.9535677+05:30"
2025-07-17 15:57:01.954 +05:30 [DBG] Entity Framework Core 9.0.6 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-07-17 15:57:01.954 +05:30 [DBG] Creating DbConnection.
2025-07-17 15:57:01.954 +05:30 [DBG] Created DbConnection. (0ms).
2025-07-17 15:57:01.954 +05:30 [DBG] Opening connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:57:01.954 +05:30 [DBG] Opened connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:57:01.954 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-17 15:57:01.954 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:57:01.954 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-17 15:57:01.954 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:57:01.959 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AllocatedMargin], [n].[AllowMultipleSignals], [n].[AllowedSignals], [n].[AutoSquareOffOnExpiry], [n].[CreatedBy], [n].[CreatedTime], [n].[EntryLimitPrice], [n].[EntryOrderType], [n].[EntryTime], [n].[Exchange], [n].[ExecutionMode], [n].[ExitAndReenterProfitAmount], [n].[ExitAndReenterProfitPercentage], [n].[ExitTime], [n].[ExpirySquareOffTimeMinutes], [n].[FromDate], [n].[HedgeDistancePoints], [n].[HedgeEnabled], [n].[HedgePremiumPercentage], [n].[HedgeRatio], [n].[HedgeType], [n].[InstrumentPrefix], [n].[IsDeleted], [n].[IsEnabled], [n].[LastExitReentryTime], [n].[LastUpdated], [n].[LastUpdatedBy], [n].[LockProfitAmount], [n].[LockProfitPercentage], [n].[ManualExecutionTimeoutMinutes], [n].[MaxDailyLoss], [n].[MaxPositionSize], [n].[MaxTradesPerDay], [n].[MinReentryDelayMinutes], [n].[MoveStopLossToEntryPriceAmount], [n].[MoveStopLossToEntryPricePercentage], [n].[Notes], [n].[NotifyOnEntry], [n].[NotifyOnExit], [n].[NotifyOnProfit], [n].[NotifyOnStopLoss], [n].[OrderType], [n].[OverallPositionStopLoss], [n].[ProductType], [n].[Quantity], [n].[StopLossPercentage], [n].[StrategyName], [n].[TakeProfitPercentage], [n].[TargetPercentage], [n].[ToDate], [n].[TrailStopLossAmount], [n].[TrailStopLossPercentage], [n].[UnderlyingInstrument], [n].[UseDynamicQuantity], [n].[UseNearestWeeklyExpiry], [n].[UseOrderProtection]
FROM [NiftyOptionStrategyConfigs] AS [n]
2025-07-17 15:57:01.959 +05:30 [DBG] Closing data reader to 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:57:01.959 +05:30 [DBG] A data reader for 'KiteConnectApi' on server '(localdb)\mssqllocaldb' is being disposed after spending 0ms reading results.
2025-07-17 15:57:01.959 +05:30 [DBG] Closing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:57:01.959 +05:30 [DBG] Closed connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb' (0ms).
2025-07-17 15:57:01.959 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-07-17 15:57:01.959 +05:30 [DBG] Disposing connection to database 'KiteConnectApi' on server '(localdb)\mssqllocaldb'.
2025-07-17 15:57:01.959 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-17 15:57:07.161 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:04:05.2599003 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b4b29cbf-5ff5-4d11-8d1d-d1675381c030
Error Number:4060,State:1,Class:11
2025-07-17 15:57:07.162 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b4b29cbf-5ff5-4d11-8d1d-d1675381c030
Error Number:4060,State:1,Class:11
2025-07-17 15:57:07.162 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:57:22.165 +05:30 [ERR] Execution BackgroundServerProcess is still in the Failed state for 00:04:20.2638613 due to an exception, will be retried in no more than 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b4b29cbf-5ff5-4d11-8d1d-d1675381c030
Error Number:4060,State:1,Class:11
2025-07-17 15:57:22.166 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e caught an exception and will be retried in 00:00:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "HangfireDB" requested by the login. The login failed.
Login failed for user 'THEMEPROTECH\E1791'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 512
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 209
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundServerProcess.cs:line 101
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessingServer.cs:line 249
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b4b29cbf-5ff5-4d11-8d1d-d1675381c030
Error Number:4060,State:1,Class:11
2025-07-17 15:57:22.166 +05:30 [DBG] Execution loop BackgroundServerProcess:29d4f66e will be retried in 00:00:15...
2025-07-17 15:57:31.847 +05:30 [DBG] UpdateIAmAlive entry = SiloAddress=S127.0.0.1:11111:111752571 SiloName= Status=None
